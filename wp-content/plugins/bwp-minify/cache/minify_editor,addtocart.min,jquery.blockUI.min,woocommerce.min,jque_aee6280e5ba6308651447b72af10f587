jQuery(document).ready(function(){if(typeof(edButtons)!=='undefined'){edButtons[110]=new QTags.TagButton('code','code','`','`','c');QTags._buttonsInit();}
jQuery('#bbp_topic_title').bind('keydown.editor-focus',function(e){if(e.which!==9)
return;if(!e.ctrlKey&&!e.altKey&&!e.shiftKey){if(typeof(tinymce)!=='undefined'){if(!tinymce.activeEditor.isHidden()){var editor=tinymce.activeEditor.editorContainer;jQuery('#'+editor+' td.mceToolbar > a').focus();}else{jQuery('textarea.bbp-the-content').focus();}}else{jQuery('textarea.bbp-the-content').focus();}
e.preventDefault();}});jQuery('#bbp_topic_tags').bind('keydown.editor-focus',function(e){if(e.which!==9)
return;if(e.shiftKey&&!e.ctrlKey&&!e.altKey){if(typeof(tinymce)!=='undefined'){if(!tinymce.activeEditor.isHidden()){var editor=tinymce.activeEditor.editorContainer;jQuery('#'+editor+' td.mceToolbar > a').focus();}else{jQuery('textarea.bbp-the-content').focus();}}else{jQuery('textarea.bbp-the-content').focus();}
e.preventDefault();}});});
;/*!
 * WooCommerce Add to Cart JS
 */
jQuery(function(a){return"undefined"==typeof wc_add_to_cart_params?!1:void a(document).on("click",".add_to_cart_button",function(){var b=a(this);if(b.is(".ajax_add_to_cart")){if(!b.attr("data-product_id"))return!0;b.removeClass("added"),b.addClass("loading");var c={};return a.each(b.data(),function(a,b){c[a]=b}),a(document.body).trigger("adding_to_cart",[b,c]),a.post(wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","add_to_cart"),c,function(c){if(c){var d=window.location.toString();if(d=d.replace("add-to-cart","added-to-cart"),c.error&&c.product_url)return void(window.location=c.product_url);if("yes"===wc_add_to_cart_params.cart_redirect_after_add)return void(window.location=wc_add_to_cart_params.cart_url);b.removeClass("loading");var e=c.fragments,f=c.cart_hash;e&&a.each(e,function(b){a(b).addClass("updating")}),a(".shop_table.cart, .updating, .cart_totals").fadeTo("400","0.6").block({message:null,overlayCSS:{opacity:.6}}),b.addClass("added"),wc_add_to_cart_params.is_cart||0!==b.parent().find(".added_to_cart").size()||b.after(' <a href="'+wc_add_to_cart_params.cart_url+'" class="added_to_cart wc-forward" title="'+wc_add_to_cart_params.i18n_view_cart+'">'+wc_add_to_cart_params.i18n_view_cart+"</a>"),e&&a.each(e,function(b,c){a(b).replaceWith(c)}),a(".widget_shopping_cart, .updating").stop(!0).css("opacity","1").unblock(),a(".shop_table.cart").load(d+" .shop_table.cart:eq(0) > *",function(){a(".shop_table.cart").stop(!0).css("opacity","1").unblock(),a(document.body).trigger("cart_page_refreshed")}),a(".cart_totals").load(d+" .cart_totals:eq(0) > *",function(){a(".cart_totals").stop(!0).css("opacity","1").unblock()}),a(document.body).trigger("added_to_cart",[e,f,b])}}),!1}return!0})});
;!function(){"use strict";function a(a){function b(b,d){var f,p,q=b==window,r=d&&void 0!==d.message?d.message:void 0;if(d=a.extend({},a.blockUI.defaults,d||{}),!d.ignoreIfBlocked||!a(b).data("blockUI.isBlocked")){if(d.overlayCSS=a.extend({},a.blockUI.defaults.overlayCSS,d.overlayCSS||{}),f=a.extend({},a.blockUI.defaults.css,d.css||{}),d.onOverlayClick&&(d.overlayCSS.cursor="pointer"),p=a.extend({},a.blockUI.defaults.themedCSS,d.themedCSS||{}),r=void 0===r?d.message:r,q&&n&&c(window,{fadeOut:0}),r&&"string"!=typeof r&&(r.parentNode||r.jquery)){var s=r.jquery?r[0]:r,t={};a(b).data("blockUI.history",t),t.el=s,t.parent=s.parentNode,t.display=s.style.display,t.position=s.style.position,t.parent&&t.parent.removeChild(s)}a(b).data("blockUI.onUnblock",d.onUnblock);var u,v,w,x,y=d.baseZ;u=a(k||d.forceIframe?'<iframe class="blockUI" style="z-index:'+y++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+d.iframeSrc+'"></iframe>':'<div class="blockUI" style="display:none"></div>'),v=a(d.theme?'<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+y++ +';display:none"></div>':'<div class="blockUI blockOverlay" style="z-index:'+y++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),d.theme&&q?(x='<div class="blockUI '+d.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(y+10)+';display:none;position:fixed">',d.title&&(x+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(d.title||"&nbsp;")+"</div>"),x+='<div class="ui-widget-content ui-dialog-content"></div>',x+="</div>"):d.theme?(x='<div class="blockUI '+d.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(y+10)+';display:none;position:absolute">',d.title&&(x+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(d.title||"&nbsp;")+"</div>"),x+='<div class="ui-widget-content ui-dialog-content"></div>',x+="</div>"):x=q?'<div class="blockUI '+d.blockMsgClass+' blockPage" style="z-index:'+(y+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+d.blockMsgClass+' blockElement" style="z-index:'+(y+10)+';display:none;position:absolute"></div>',w=a(x),r&&(d.theme?(w.css(p),w.addClass("ui-widget-content")):w.css(f)),d.theme||v.css(d.overlayCSS),v.css("position",q?"fixed":"absolute"),(k||d.forceIframe)&&u.css("opacity",0);var z=[u,v,w],A=a(q?"body":b);a.each(z,function(){this.appendTo(A)}),d.theme&&d.draggable&&a.fn.draggable&&w.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var B=m&&(!a.support.boxModel||a("object,embed",q?null:b).length>0);if(l||B){if(q&&d.allowBodyStretch&&a.support.boxModel&&a("html,body").css("height","100%"),(l||!a.support.boxModel)&&!q)var C=i(b,"borderTopWidth"),D=i(b,"borderLeftWidth"),E=C?"(0 - "+C+")":0,F=D?"(0 - "+D+")":0;a.each(z,function(a,b){var c=b[0].style;if(c.position="absolute",2>a)q?c.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+d.quirksmodeOffsetHack+') + "px"'):c.setExpression("height",'this.parentNode.offsetHeight + "px"'),q?c.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):c.setExpression("width",'this.parentNode.offsetWidth + "px"'),F&&c.setExpression("left",F),E&&c.setExpression("top",E);else if(d.centerY)q&&c.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),c.marginTop=0;else if(!d.centerY&&q){var e=d.css&&d.css.top?parseInt(d.css.top,10):0,f="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+e+') + "px"';c.setExpression("top",f)}})}if(r&&(d.theme?w.find(".ui-widget-content").append(r):w.append(r),(r.jquery||r.nodeType)&&a(r).show()),(k||d.forceIframe)&&d.showOverlay&&u.show(),d.fadeIn){var G=d.onBlock?d.onBlock:j,H=d.showOverlay&&!r?G:j,I=r?G:j;d.showOverlay&&v._fadeIn(d.fadeIn,H),r&&w._fadeIn(d.fadeIn,I)}else d.showOverlay&&v.show(),r&&w.show(),d.onBlock&&d.onBlock.bind(w)();if(e(1,b,d),q?(n=w[0],o=a(d.focusableElements,n),d.focusInput&&setTimeout(g,20)):h(w[0],d.centerX,d.centerY),d.timeout){var J=setTimeout(function(){q?a.unblockUI(d):a(b).unblock(d)},d.timeout);a(b).data("blockUI.timeout",J)}}}function c(b,c){var f,g=b==window,h=a(b),i=h.data("blockUI.history"),j=h.data("blockUI.timeout");j&&(clearTimeout(j),h.removeData("blockUI.timeout")),c=a.extend({},a.blockUI.defaults,c||{}),e(0,b,c),null===c.onUnblock&&(c.onUnblock=h.data("blockUI.onUnblock"),h.removeData("blockUI.onUnblock"));var k;k=g?a(document.body).children().filter(".blockUI").add("body > .blockUI"):h.find(">.blockUI"),c.cursorReset&&(k.length>1&&(k[1].style.cursor=c.cursorReset),k.length>2&&(k[2].style.cursor=c.cursorReset)),g&&(n=o=null),c.fadeOut?(f=k.length,k.stop().fadeOut(c.fadeOut,function(){0===--f&&d(k,i,c,b)})):d(k,i,c,b)}function d(b,c,d,e){var f=a(e);if(!f.data("blockUI.isBlocked")){b.each(function(a,b){this.parentNode&&this.parentNode.removeChild(this)}),c&&c.el&&(c.el.style.display=c.display,c.el.style.position=c.position,c.el.style.cursor="default",c.parent&&c.parent.appendChild(c.el),f.removeData("blockUI.history")),f.data("blockUI.static")&&f.css("position","static"),"function"==typeof d.onUnblock&&d.onUnblock(e,d);var g=a(document.body),h=g.width(),i=g[0].style.width;g.width(h-1).width(h),g[0].style.width=i}}function e(b,c,d){var e=c==window,g=a(c);if((b||(!e||n)&&(e||g.data("blockUI.isBlocked")))&&(g.data("blockUI.isBlocked",b),e&&d.bindEvents&&(!b||d.showOverlay))){var h="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";b?a(document).bind(h,d,f):a(document).unbind(h,f)}}function f(b){if("keydown"===b.type&&b.keyCode&&9==b.keyCode&&n&&b.data.constrainTabKey){var c=o,d=!b.shiftKey&&b.target===c[c.length-1],e=b.shiftKey&&b.target===c[0];if(d||e)return setTimeout(function(){g(e)},10),!1}var f=b.data,h=a(b.target);return h.hasClass("blockOverlay")&&f.onOverlayClick&&f.onOverlayClick(b),h.parents("div."+f.blockMsgClass).length>0?!0:0===h.parents().children().filter("div.blockUI").length}function g(a){if(o){var b=o[a===!0?o.length-1:0];b&&b.focus()}}function h(a,b,c){var d=a.parentNode,e=a.style,f=(d.offsetWidth-a.offsetWidth)/2-i(d,"borderLeftWidth"),g=(d.offsetHeight-a.offsetHeight)/2-i(d,"borderTopWidth");b&&(e.left=f>0?f+"px":"0"),c&&(e.top=g>0?g+"px":"0")}function i(b,c){return parseInt(a.css(b,c),10)||0}a.fn._fadeIn=a.fn.fadeIn;var j=a.noop||function(){},k=/MSIE/.test(navigator.userAgent),l=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),m=(document.documentMode||0,a.isFunction(document.createElement("div").style.setExpression));a.blockUI=function(a){b(window,a)},a.unblockUI=function(a){c(window,a)},a.growlUI=function(b,c,d,e){var f=a('<div class="growlUI"></div>');b&&f.append("<h1>"+b+"</h1>"),c&&f.append("<h2>"+c+"</h2>"),void 0===d&&(d=3e3);var g=function(b){b=b||{},a.blockUI({message:f,fadeIn:"undefined"!=typeof b.fadeIn?b.fadeIn:700,fadeOut:"undefined"!=typeof b.fadeOut?b.fadeOut:1e3,timeout:"undefined"!=typeof b.timeout?b.timeout:d,centerY:!1,showOverlay:!1,onUnblock:e,css:a.blockUI.defaults.growlCSS})};g();f.css("opacity");f.mouseover(function(){g({fadeIn:0,timeout:3e4});var b=a(".blockMsg");b.stop(),b.fadeTo(300,1)}).mouseout(function(){a(".blockMsg").fadeOut(1e3)})},a.fn.block=function(c){if(this[0]===window)return a.blockUI(c),this;var d=a.extend({},a.blockUI.defaults,c||{});return this.each(function(){var b=a(this);d.ignoreIfBlocked&&b.data("blockUI.isBlocked")||b.unblock({fadeOut:0})}),this.each(function(){"static"==a.css(this,"position")&&(this.style.position="relative",a(this).data("blockUI.static",!0)),this.style.zoom=1,b(this,c)})},a.fn.unblock=function(b){return this[0]===window?(a.unblockUI(b),this):this.each(function(){c(this,b)})},a.blockUI.version=2.7,a.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var n=null,o=[]}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],a):a(jQuery)}();
;jQuery(function(a){a(".woocommerce-ordering").on("change","select.orderby",function(){a(this).closest("form").submit()}),a("input.qty:not(.product-quantity input.qty)").each(function(){var b=parseFloat(a(this).attr("min"));b>=0&&parseFloat(a(this).val())<b&&a(this).val(b)})});
;!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){function b(a){return h.raw?a:encodeURIComponent(a)}function c(a){return h.raw?a:decodeURIComponent(a)}function d(a){return b(h.json?JSON.stringify(a):String(a))}function e(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(g," ")),h.json?JSON.parse(a):a}catch(b){}}function f(b,c){var d=h.raw?b:e(b);return a.isFunction(c)?c(d):d}var g=/\+/g,h=a.cookie=function(e,g,i){if(void 0!==g&&!a.isFunction(g)){if(i=a.extend({},h.defaults,i),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setTime(+k+864e5*j)}return document.cookie=[b(e),"=",d(g),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=e?void 0:{},m=document.cookie?document.cookie.split("; "):[],n=0,o=m.length;o>n;n++){var p=m[n].split("="),q=c(p.shift()),r=p.join("=");if(e&&e===q){l=f(r,g);break}e||void 0===(r=f(r))||(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return void 0===a.cookie(b)?!1:(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}});
;jQuery(function(a){function b(){e&&sessionStorage.setItem("wc_cart_created",(new Date).getTime())}function c(a){e&&(localStorage.setItem("wc_cart_hash",a),sessionStorage.setItem("wc_cart_hash",a))}function d(){a.ajax(g)}if("undefined"==typeof wc_cart_fragments_params)return!1;var e;try{e="sessionStorage"in window&&null!==window.sessionStorage,window.sessionStorage.setItem("wc","test"),window.sessionStorage.removeItem("wc")}catch(f){e=!1}var g={url:wc_cart_fragments_params.wc_ajax_url.toString().replace("%%endpoint%%","get_refreshed_fragments"),type:"POST",success:function(d){d&&d.fragments&&(a.each(d.fragments,function(b,c){a(b).replaceWith(c)}),e&&(sessionStorage.setItem(wc_cart_fragments_params.fragment_name,JSON.stringify(d.fragments)),c(d.cart_hash),d.cart_hash&&b()),a(document.body).trigger("wc_fragments_refreshed"))}};if(e){var h=null,i=864e5;a(document.body).bind("added_to_cart",function(a,d,e){var f=sessionStorage.getItem("wc_cart_hash");null!==f&&void 0!==f&&""!==f||b(),sessionStorage.setItem(wc_cart_fragments_params.fragment_name,JSON.stringify(d)),c(e)}),a(document.body).bind("wc_fragments_refreshed",function(){clearTimeout(h),h=setTimeout(d,i)}),a(window).on("storage onstorage",function(b){"wc_cart_hash"===b.originalEvent.key&&localStorage.getItem("wc_cart_hash")!==sessionStorage.getItem("wc_cart_hash")&&a.ajax(g)});try{var j=a.parseJSON(sessionStorage.getItem(wc_cart_fragments_params.fragment_name)),k=sessionStorage.getItem("wc_cart_hash"),l=a.cookie("woocommerce_cart_hash"),m=sessionStorage.getItem("wc_cart_created");if(null!==k&&void 0!==k&&""!==k||(k=""),null!==l&&void 0!==l&&""!==l||(l=""),k&&(null===m||void 0===m||""===m))throw"No cart_created";if(m){var n=1*m+i,o=(new Date).getTime();if(o>n)throw"Fragment expired";h=setTimeout(d,n-o)}if(!j||!j["div.widget_shopping_cart_content"]||k!==l)throw"No fragment";a.each(j,function(b,c){a(b).replaceWith(c)}),a(document.body).trigger("wc_fragments_loaded")}catch(f){d()}}else d();a.cookie("woocommerce_items_in_cart")>0?a(".hide_cart_widget_if_empty").closest(".widget_shopping_cart").show():a(".hide_cart_widget_if_empty").closest(".widget_shopping_cart").hide(),a(document.body).bind("adding_to_cart",function(){a(".hide_cart_widget_if_empty").closest(".widget_shopping_cart").show()})});
;/* Tooltipster v3.0.5 */;(function(e,t,n){function o(t,n){this.bodyOverflowX;this.checkInterval=null;this.content;this.$el=e(t);this.elProxyPosition;this.$elProxy;this.enabled=true;this.options=e.extend({},s,n);this.mouseIsOverProxy=false;this.namespace="tooltipster-"+Math.round(Math.random()*1e5);this.status="hidden";this.timerHide=null;this.timerShow=null;this.$tooltip;this.options.iconTheme=this.options.iconTheme.replace(".","");this.options.theme=this.options.theme.replace(".","");this.init()}function u(t,n){var r=true;e.each(t,function(e,i){if(typeof n[e]==="undefined"||t[e]!==n[e]){r=false;return false}});return r}function l(){return!f&&a}function c(){var e=n.body||n.documentElement,t=e.style,r="transition";if(typeof t[r]=="string"){return true}v=["Moz","Webkit","Khtml","O","ms"],r=r.charAt(0).toUpperCase()+r.substr(1);for(var i=0;i<v.length;i++){if(typeof t[v[i]+r]=="string"){return true}}return false}var r="tooltipster",s={animation:"fade",arrow:true,arrowColor:"",autoClose:true,content:null,contentAsHTML:false,contentCloning:true,delay:200,fixedWidth:0,maxWidth:0,functionInit:function(e,t){},functionBefore:function(e,t){t()},functionReady:function(e,t){},functionAfter:function(e){},icon:"(?)",iconCloning:true,iconDesktop:false,iconTouch:false,iconTheme:"tooltipster-icon",interactive:false,interactiveTolerance:350,offsetX:0,offsetY:0,onlyOne:false,position:"top",positionTracker:false,speed:350,timer:0,theme:"tooltipster-default",touchDevices:true,trigger:"hover",updateAnimation:true};o.prototype={init:function(){var t=this;if(n.querySelector){if(t.options.content!==null){t.setContent(t.options.content)}else{var r=t.$el.attr("title");if(typeof r==="undefined")r=null;t.setContent(r)}var i=t.options.functionInit(t.$el,t.content);if(typeof i!=="undefined")t.setContent(i);t.$el.removeAttr("title").addClass("tooltipstered");if(!a&&t.options.iconDesktop||a&&t.options.iconTouch){if(typeof t.options.icon==="string"){t.$elProxy=e('<span class="'+t.options.iconTheme+'"></span>');t.$elProxy.text(t.options.icon)}else{if(t.options.iconCloning)t.$elProxy=t.options.icon.clone(true);else t.$elProxy=t.options.icon}t.$elProxy.insertAfter(t.$el)}else{t.$elProxy=t.$el}if(t.options.trigger=="hover"){t.$elProxy.on("mouseenter."+t.namespace,function(){if(!l()||t.options.touchDevices){t.mouseIsOverProxy=true;t.showTooltip()}}).on("mouseleave."+t.namespace,function(){if(!l()||t.options.touchDevices){t.mouseIsOverProxy=false}});if(a&&t.options.touchDevices){t.$elProxy.on("touchstart."+t.namespace,function(){t.showTooltipNow()})}}else if(t.options.trigger=="click"){t.$elProxy.on("click."+t.namespace,function(){if(!l()||t.options.touchDevices){t.showTooltip()}})}}},showTooltip:function(){var e=this;if(e.status!="shown"&&e.status!="appearing"){if(e.options.delay){e.timerShow=setTimeout(function(){if(e.options.trigger=="click"||e.options.trigger=="hover"&&e.mouseIsOverProxy){e.showTooltipNow()}},e.options.delay)}else e.showTooltipNow()}},showTooltipNow:function(){var n=this;clearTimeout(n.timerShow);n.timerShow=null;clearTimeout(n.timerHide);n.timerHide=null;if(n.enabled&&n.content!==null){if(n.options.onlyOne){e(".tooltipstered").not(n.$el).each(function(t,n){var i=e(n),s=i[r]("status"),o=i[r]("option","autoClose");if(s!=="hidden"&&s!=="disappearing"&&o){i[r]("hide")}})}n.options.functionBefore(n.$elProxy,function(){if(n.status!=="hidden"){var r=0;if(n.status==="disappearing"){n.status="appearing";if(c()){n.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+n.options.animation+"-show");if(n.options.speed>0)n.$tooltip.delay(n.options.speed);n.$tooltip.queue(function(){n.status="shown"})}else{n.$tooltip.stop().fadeIn(function(){n.status="shown"})}}}else{n.status="appearing";var r=n.options.speed;n.bodyOverflowX=e("body").css("overflow-x");e("body").css("overflow-x","hidden");var i="tooltipster-"+n.options.animation,s="-webkit-transition-duration: "+n.options.speed+"ms; -webkit-animation-duration: "+n.options.speed+"ms; -moz-transition-duration: "+n.options.speed+"ms; -moz-animation-duration: "+n.options.speed+"ms; -o-transition-duration: "+n.options.speed+"ms; -o-animation-duration: "+n.options.speed+"ms; -ms-transition-duration: "+n.options.speed+"ms; -ms-animation-duration: "+n.options.speed+"ms; transition-duration: "+n.options.speed+"ms; animation-duration: "+n.options.speed+"ms;",o=n.options.fixedWidth>0?"width:"+Math.round(n.options.fixedWidth)+"px;":"",u=n.options.maxWidth>0?"max-width:"+Math.round(n.options.maxWidth)+"px;":"",f=n.options.interactive?"pointer-events: auto;":"";n.$tooltip=e('<div class="tooltipster-base '+n.options.theme+'" style="'+o+" "+u+" "+f+" "+s+'"><div class="tooltipster-content"></div></div>');if(c())n.$tooltip.addClass(i);n.insertContent();n.$tooltip.appendTo("body");n.positionTooltip();n.options.functionReady(n.$el,n.$tooltip);if(c()){n.$tooltip.addClass(i+"-show");if(n.options.speed>0)n.$tooltip.delay(n.options.speed);n.$tooltip.queue(function(){n.status="shown"})}else{n.$tooltip.css("display","none").fadeIn(n.options.speed,function(){n.status="shown"})}n.setCheckInterval();e(t).on("scroll."+n.namespace+" resize."+n.namespace,function(){n.positionTooltip()});if(n.options.autoClose){e("body").off("."+n.namespace);if(n.options.trigger=="hover"){if(a){setTimeout(function(){e("body").on("touchstart."+n.namespace,function(){n.hideTooltip()})},0)}if(n.options.interactive){if(a){n.$tooltip.on("touchstart."+n.namespace,function(e){e.stopPropagation()})}var l=null;n.$elProxy.add(n.$tooltip).on("mouseleave."+n.namespace+"-autoClose",function(){clearTimeout(l);l=setTimeout(function(){n.hideTooltip()},n.options.interactiveTolerance)}).on("mouseenter."+n.namespace+"-autoClose",function(){clearTimeout(l)})}else{n.$elProxy.on("mouseleave."+n.namespace+"-autoClose",function(){n.hideTooltip()})}}else if(n.options.trigger=="click"){setTimeout(function(){e("body").on("click."+n.namespace+" touchstart."+n.namespace,function(){n.hideTooltip()})},0);if(n.options.interactive){n.$tooltip.on("click."+n.namespace+" touchstart."+n.namespace,function(e){e.stopPropagation()})}}}}if(n.options.timer>0){n.timerHide=setTimeout(function(){n.timerHide=null;n.hideTooltip()},n.options.timer+r)}})}},setCheckInterval:function(){var t=this;t.checkInterval=setInterval(function(){if(e("body").find(t.$el).length===0||e("body").find(t.$elProxy).length===0||t.status=="hidden"||e("body").find(t.$tooltip).length===0){if(t.status=="shown"||t.status=="appearing")t.hideTooltip();t.cancelCheckInterval()}else{if(t.options.positionTracker){var n=t.positionInfo(t.$elProxy),r=false;if(u(n.dimension,t.elProxyPosition.dimension)){if(t.$elProxy.css("position")==="fixed"){if(u(n.position,t.elProxyPosition.position))r=true}else{if(u(n.offset,t.elProxyPosition.offset))r=true}}if(!r){t.positionTooltip()}}}},200)},cancelCheckInterval:function(){clearInterval(this.checkInterval);this.checkInterval=null},hideTooltip:function(){var n=this;clearTimeout(n.timerShow);n.timerShow=null;clearTimeout(n.timerHide);n.timerHide=null;if(n.status=="shown"||n.status=="appearing"){n.status="disappearing";var r=function(){n.status="hidden";n.$tooltip.remove();n.$tooltip=null;e(t).off("."+n.namespace);e("body").off("."+n.namespace).css("overflow-x",n.bodyOverflowX);n.$elProxy.off("."+n.namespace+"-autoClose");n.options.functionAfter(n.$elProxy)};if(c()){n.$tooltip.clearQueue().removeClass("tooltipster-"+n.options.animation+"-show").addClass("tooltipster-dying");if(n.options.speed>0)n.$tooltip.delay(n.options.speed);n.$tooltip.queue(r)}else{n.$tooltip.stop().fadeOut(n.options.speed,r)}}},setContent:function(e){if(typeof e==="object"&&e!==null&&this.options.contentCloning){e=e.clone(true)}this.content=e},insertContent:function(){var e=this,t=this.$tooltip.find(".tooltipster-content");if(typeof e.content==="string"&&!e.options.contentAsHTML){t.text(e.content)}else{t.empty().append(e.content)}},updateTooltip:function(e){var t=this;t.setContent(e);if(t.content!==null){if(t.status!=="hidden"){t.insertContent();t.positionTooltip();if(t.options.updateAnimation){if(c()){t.$tooltip.css({width:"","-webkit-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing");setTimeout(function(){if(t.status!="hidden"){t.$tooltip.removeClass("tooltipster-content-changing");setTimeout(function(){if(t.status!=="hidden"){t.$tooltip.css({"-webkit-transition":t.options.speed+"ms","-moz-transition":t.options.speed+"ms","-o-transition":t.options.speed+"ms","-ms-transition":t.options.speed+"ms",transition:t.options.speed+"ms"})}},t.options.speed)}},t.options.speed)}else{t.$tooltip.fadeTo(t.options.speed,.5,function(){if(t.status!="hidden"){t.$tooltip.fadeTo(t.options.speed,1)}})}}}}else{t.hideTooltip()}},positionInfo:function(e){return{dimension:{height:e.outerHeight(false),width:e.outerWidth(false)},offset:e.offset(),position:{left:parseInt(e.css("left")),top:parseInt(e.css("top"))}}},positionTooltip:function(){var n=this;if(e("body").find(n.$tooltip).length!==0){n.$tooltip.css("width","");n.elProxyPosition=n.positionInfo(n.$elProxy);var r=null,s=e(t).width(),o=n.elProxyPosition,u=n.$tooltip.outerWidth(false),a=n.$tooltip.innerWidth()+1,f=n.$tooltip.outerHeight(false),l=null;if(n.$elProxy.is("area")){var c=n.$elProxy.attr("shape"),h=n.$elProxy.parent().attr("name"),p=e('img[usemap="#'+h+'"]'),d=p.offset().left,v=p.offset().top,m=n.$elProxy.attr("coords")!==undefined?n.$elProxy.attr("coords").split(","):undefined;if(c=="circle"){var g=parseInt(m[0]),y=parseInt(m[1]),b=parseInt(m[2]);o.dimension.height=b*2;o.dimension.width=b*2;o.offset.top=v+y-b;o.offset.left=d+g-b}else if(c=="rect"){var g=parseInt(m[0]),y=parseInt(m[1]),w=parseInt(m[2]),E=parseInt(m[3]);o.dimension.height=E-y;o.dimension.width=w-g;o.offset.top=v+y;o.offset.left=d+g}else if(c=="poly"){var S=[],x=[],T=0,N=0,C=0,k=0,L="even";for(i=0;i<m.length;i++){var A=parseInt(m[i]);if(L=="even"){if(A>C){C=A;if(i===0){T=C}}if(A<T){T=A}L="odd"}else{if(A>k){k=A;if(i==1){N=k}}if(A<N){N=A}L="even"}}o.dimension.height=k-N;o.dimension.width=C-T;o.offset.top=v+N;o.offset.left=d+T}else{o.dimension.height=p.outerHeight(false);o.dimension.width=p.outerWidth(false);o.offset.top=v;o.offset.left=d}}if(n.options.fixedWidth===0){n.$tooltip.css({width:Math.round(a)+"px","padding-left":"0px","padding-right":"0px"})}var O=0,M=0,_=0,D=parseInt(n.options.offsetY),P=parseInt(n.options.offsetX),H=n.options.position;function B(){var n=e(t).scrollLeft();if(O-n<0){r=O-n;O=n}if(O+u-n>s){r=O-(s+n-u);O=s+n-u}}function j(n,r){if(o.offset.top-e(t).scrollTop()-f-D-12<0&&r.indexOf("top")>-1){H=n}if(o.offset.top+o.dimension.height+f+12+D>e(t).scrollTop()+e(t).height()&&r.indexOf("bottom")>-1){H=n;_=o.offset.top-f-D-12}}if(H=="top"){var F=o.offset.left+u-(o.offset.left+o.dimension.width);O=o.offset.left+P-F/2;_=o.offset.top-f-D-12;B();j("bottom","top")}if(H=="top-left"){O=o.offset.left+P;_=o.offset.top-f-D-12;B();j("bottom-left","top-left")}if(H=="top-right"){O=o.offset.left+o.dimension.width+P-u;_=o.offset.top-f-D-12;B();j("bottom-right","top-right")}if(H=="bottom"){var F=o.offset.left+u-(o.offset.left+o.dimension.width);O=o.offset.left-F/2+P;_=o.offset.top+o.dimension.height+D+12;B();j("top","bottom")}if(H=="bottom-left"){O=o.offset.left+P;_=o.offset.top+o.dimension.height+D+12;B();j("top-left","bottom-left")}if(H=="bottom-right"){O=o.offset.left+o.dimension.width+P-u;_=o.offset.top+o.dimension.height+D+12;B();j("top-right","bottom-right")}if(H=="left"){O=o.offset.left-P-u-12;M=o.offset.left+P+o.dimension.width+12;var I=o.offset.top+f-(o.offset.top+n.$elProxy.outerHeight(false));_=o.offset.top-I/2-D;if(O<0&&M+u>s){var q=parseFloat(n.$tooltip.css("border-width"))*2,R=u+O-q;n.$tooltip.css("width",R+"px");f=n.$tooltip.outerHeight(false);O=o.offset.left-P-R-12-q;I=o.offset.top+f-(o.offset.top+n.$elProxy.outerHeight(false));_=o.offset.top-I/2-D}else if(O<0){O=o.offset.left+P+o.dimension.width+12;r="left"}}if(H=="right"){O=o.offset.left+P+o.dimension.width+12;M=o.offset.left-P-u-12;var I=o.offset.top+f-(o.offset.top+n.$elProxy.outerHeight(false));_=o.offset.top-I/2-D;if(O+u>s&&M<0){var q=parseFloat(n.$tooltip.css("border-width"))*2,R=s-O-q;n.$tooltip.css("width",R+"px");f=n.$tooltip.outerHeight(false);I=o.offset.top+f-(o.offset.top+n.$elProxy.outerHeight(false));_=o.offset.top-I/2-D}else if(O+u>s){O=o.offset.left-P-u-12;r="right"}}if(n.options.arrow){var U="tooltipster-arrow-"+H;if(n.options.arrowColor.length<1){var z=n.$tooltip.css("background-color")}else{var z=n.options.arrowColor}if(!r){r=""}else if(r=="left"){U="tooltipster-arrow-right";r=""}else if(r=="right"){U="tooltipster-arrow-left";r=""}else{r="left:"+Math.round(r)+"px;"}if(H=="top"||H=="top-left"||H=="top-right"){var W=parseFloat(n.$tooltip.css("border-bottom-width")),X=n.$tooltip.css("border-bottom-color")}else if(H=="bottom"||H=="bottom-left"||H=="bottom-right"){var W=parseFloat(n.$tooltip.css("border-top-width")),X=n.$tooltip.css("border-top-color")}else if(H=="left"){var W=parseFloat(n.$tooltip.css("border-right-width")),X=n.$tooltip.css("border-right-color")}else if(H=="right"){var W=parseFloat(n.$tooltip.css("border-left-width")),X=n.$tooltip.css("border-left-color")}else{var W=parseFloat(n.$tooltip.css("border-bottom-width")),X=n.$tooltip.css("border-bottom-color")}if(W>1){W++}var V="";if(W!==0){var J="",K="border-color: "+X+";";if(U.indexOf("bottom")!==-1){J="margin-top: -"+Math.round(W)+"px;"}else if(U.indexOf("top")!==-1){J="margin-bottom: -"+Math.round(W)+"px;"}else if(U.indexOf("left")!==-1){J="margin-right: -"+Math.round(W)+"px;"}else if(U.indexOf("right")!==-1){J="margin-left: -"+Math.round(W)+"px;"}V='<span class="tooltipster-arrow-border" style="'+J+" "+K+';"></span>'}n.$tooltip.find(".tooltipster-arrow").remove();var Q='<div class="'+U+' tooltipster-arrow" style="'+r+'">'+V+'<span style="border-color:'+z+';"></span></div>';n.$tooltip.append(Q)}n.$tooltip.css({top:Math.round(_)+"px",left:Math.round(O)+"px"})}}};e.fn[r]=function(){var t=arguments;if(this.length===0){if(typeof t[0]==="string"){var n=true;switch(t[0]){case"setDefaults":e.extend(s,t[1]);break;default:n=false;break}if(n)return true;else return this}else{return this}}else{if(typeof t[0]==="string"){var r="#*$~&";this.each(function(){var n=e(this).data("tooltipster");if(n){switch(t[0]){case"content":case"update":if(typeof t[1]==="undefined"){r=n.content;return false}else{n.updateTooltip(t[1]);break};case"destroy":n.hideTooltip();if(n.$el[0]!==n.$elProxy[0])n.$elProxy.remove();var i=typeof n.content==="string"?n.content:e("<div></div>").append(n.content).html();n.$el.removeClass("tooltipstered").attr("title",i).removeData("tooltipster").off("."+n.namespace);break;case"disable":n.hideTooltip();n.enabled=false;break;case"elementIcon":r=n.$el[0]!==n.$elProxy[0]?n.$elProxy[0]:undefined;return false;case"elementTooltip":r=n.$tooltip?n.$tooltip[0]:undefined;return false;case"enable":n.enabled=true;break;case"hide":n.hideTooltip();break;case"option":r=n.options[t[1]];break;case"reposition":n.positionTooltip();break;case"show":n.showTooltipNow();break;case"status":r=n.status;return false;default:throw new Error('Unknown method .tooltipster("'+t[0]+'")');break}}else{throw new Error("You called Tooltipster's \""+t[0]+'" method on an uninitialized element')}});return r!=="#*$~&"?r:this}else{return this.each(function(){if(!e(this).data("tooltipster")){e(this).data("tooltipster",new o(this,t[0]))}})}}};var a=!!("ontouchstart"in t);var f=false;e("body").one("mousemove",function(){f=true})})(jQuery,window,document);
;/*! fancyBox v2.1.5 fancyapps.com | fancyapps.com/fancybox/#license */
(function(r,G,f,v){var J=f("html"),n=f(r),p=f(G),b=f.fancybox=function(){b.open.apply(this,arguments)},I=navigator.userAgent.match(/msie/i),B=null,s=G.createTouch!==v,t=function(a){return a&&a.hasOwnProperty&&a instanceof f},q=function(a){return a&&"string"===f.type(a)},E=function(a){return q(a)&&0<a.indexOf("%")},l=function(a,d){var e=parseInt(a,10)||0;d&&E(a)&&(e*=b.getViewport()[d]/100);return Math.ceil(e)},w=function(a,b){return l(a,b)+"px"};f.extend(b,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!s,fitToView:!0,aspectRatio:!1,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3E3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+
(I?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:f.noop,beforeLoad:f.noop,afterLoad:f.noop,beforeShow:f.noop,afterShow:f.noop,beforeChange:f.noop,beforeClose:f.noop,afterClose:f.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,d){if(a&&(f.isPlainObject(d)||(d={}),!1!==b.close(!0)))return f.isArray(a)||(a=t(a)?f(a).get():[a]),f.each(a,function(e,c){var k={},g,h,j,m,l;"object"===f.type(c)&&(c.nodeType&&(c=f(c)),t(c)?(k={href:c.data("fancybox-href")||c.attr("href"),title:c.data("fancybox-title")||c.attr("title"),isDom:!0,element:c},f.metadata&&f.extend(!0,k,c.metadata())):k=c);g=d.href||k.href||(q(c)?c:null);h=d.title!==v?d.title:k.title||"";m=(j=d.content||k.content)?"html":d.type||k.type;!m&&k.isDom&&(m=c.data("fancybox-type"),m||(m=(m=c.prop("class").match(/fancybox\.(\w+)/))?m[1]:null));q(g)&&(m||(b.isImage(g)?m="image":b.isSWF(g)?m="swf":"#"===g.charAt(0)?m="inline":q(c)&&(m="html",j=c)),"ajax"===m&&(l=g.split(/\s+/,2),g=l.shift(),l=l.shift()));j||("inline"===m?g?j=f(q(g)?g.replace(/.*(?=#[^\s]+$)/,""):g):k.isDom&&(j=c):"html"===m?j=g:!m&&(!g&&k.isDom)&&(m="inline",j=c));f.extend(k,{href:g,type:m,content:j,title:h,selector:l});a[e]=k}),b.opts=f.extend(!0,{},b.defaults,d),d.keys!==v&&(b.opts.keys=d.keys?f.extend({},b.defaults.keys,d.keys):!1),b.group=a,b._start(b.opts.index)},cancel:function(){var a=b.coming;a&&!1!==b.trigger("onCancel")&&(b.hideLoading(),b.ajaxLoad&&b.ajaxLoad.abort(),b.ajaxLoad=null,b.imgPreload&&(b.imgPreload.onload=b.imgPreload.onerror=null),a.wrap&&a.wrap.stop(!0,!0).trigger("onReset").remove(),b.coming=null,b.current||b._afterZoomOut(a))},close:function(a){b.cancel();!1!==b.trigger("beforeClose")&&(b.unbindEvents(),b.isActive&&(!b.isOpen||!0===a?(f(".fancybox-wrap").stop(!0).trigger("onReset").remove(),b._afterZoomOut()):(b.isOpen=b.isOpened=!1,b.isClosing=!0,f(".fancybox-item, .fancybox-nav").remove(),b.wrap.stop(!0,!0).removeClass("fancybox-opened"),b.transitions[b.current.closeMethod]())))},play:function(a){var d=function(){clearTimeout(b.player.timer)},e=function(){d();b.current&&b.player.isActive&&(b.player.timer=setTimeout(b.next,b.current.playSpeed))},c=function(){d();p.unbind(".player");b.player.isActive=!1;b.trigger("onPlayEnd")};if(!0===a||!b.player.isActive&&!1!==a){if(b.current&&(b.current.loop||b.current.index<b.group.length-1))b.player.isActive=!0,p.bind({"onCancel.player beforeClose.player":c,"onUpdate.player":e,"beforeLoad.player":d}),e(),b.trigger("onPlayStart")}else c()},next:function(a){var d=b.current;d&&(q(a)||(a=d.direction.next),b.jumpto(d.index+1,a,"next"))},prev:function(a){var d=b.current;d&&(q(a)||(a=d.direction.prev),b.jumpto(d.index-1,a,"prev"))},jumpto:function(a,d,e){var c=b.current;c&&(a=l(a),b.direction=d||c.direction[a>=c.index?"next":"prev"],b.router=e||"jumpto",c.loop&&(0>a&&(a=c.group.length+a%c.group.length),a%=c.group.length),c.group[a]!==v&&(b.cancel(),b._start(a)))},reposition:function(a,d){var e=b.current,c=e?e.wrap:null,k;c&&(k=b._getPosition(d),a&&"scroll"===a.type?(delete k.position,c.stop(!0,!0).animate(k,200)):(c.css(k),e.pos=f.extend({},e.dim,k)))},update:function(a){var d=a&&a.type,e=!d||"orientationchange"===d;e&&(clearTimeout(B),B=null);b.isOpen&&!B&&(B=setTimeout(function(){var c=b.current;c&&!b.isClosing&&(b.wrap.removeClass("fancybox-tmp"),(e||"load"===d||"resize"===d&&c.autoResize)&&b._setDimension(),"scroll"===d&&c.canShrink||b.reposition(a),b.trigger("onUpdate"),B=null)},e&&!s?0:300))},toggle:function(a){b.isOpen&&(b.current.fitToView="boolean"===f.type(a)?a:!b.current.fitToView,s&&(b.wrap.removeAttr("style").addClass("fancybox-tmp"),b.trigger("onUpdate")),b.update())},hideLoading:function(){p.unbind(".loading");f("#fancybox-loading").remove()},showLoading:function(){var a,d;b.hideLoading();a=f('<div id="fancybox-loading"><div></div></div>').click(b.cancel).appendTo("body");p.bind("keydown.loading",function(a){if(27===(a.which||a.keyCode))a.preventDefault(),b.cancel()});b.defaults.fixed||(d=b.getViewport(),a.css({position:"absolute",top:0.5*d.h+d.y,left:0.5*d.w+d.x}))},getViewport:function(){var a=b.current&&b.current.locked||!1,d={x:n.scrollLeft(),y:n.scrollTop()};a?(d.w=a[0].clientWidth,d.h=a[0].clientHeight):(d.w=s&&r.innerWidth?r.innerWidth:n.width(),d.h=s&&r.innerHeight?r.innerHeight:n.height());return d},unbindEvents:function(){b.wrap&&t(b.wrap)&&b.wrap.unbind(".fb");p.unbind(".fb");n.unbind(".fb")},bindEvents:function(){var a=b.current,d;a&&(n.bind("orientationchange.fb"+(s?"":" resize.fb")+(a.autoCenter&&!a.locked?" scroll.fb":""),b.update),(d=a.keys)&&p.bind("keydown.fb",function(e){var c=e.which||e.keyCode,k=e.target||e.srcElement;if(27===c&&b.coming)return!1;!e.ctrlKey&&(!e.altKey&&!e.shiftKey&&!e.metaKey&&(!k||!k.type&&!f(k).is("[contenteditable]")))&&f.each(d,function(d,k){if(1<a.group.length&&k[c]!==v)return b[d](k[c]),e.preventDefault(),!1;if(-1<f.inArray(c,k))return b[d](),e.preventDefault(),!1})}),f.fn.mousewheel&&a.mouseWheel&&b.wrap.bind("mousewheel.fb",function(d,c,k,g){for(var h=f(d.target||null),j=!1;h.length&&!j&&!h.is(".fancybox-skin")&&!h.is(".fancybox-wrap");)j=h[0]&&!(h[0].style.overflow&&"hidden"===h[0].style.overflow)&&(h[0].clientWidth&&h[0].scrollWidth>h[0].clientWidth||h[0].clientHeight&&h[0].scrollHeight>h[0].clientHeight),h=f(h).parent();if(0!==c&&!j&&1<b.group.length&&!a.canShrink){if(0<g||0<k)b.prev(0<g?"down":"left");else if(0>g||0>k)b.next(0>g?"up":"right");d.preventDefault()}}))},trigger:function(a,d){var e,c=d||b.coming||b.current;if(c){f.isFunction(c[a])&&(e=c[a].apply(c,Array.prototype.slice.call(arguments,1)));if(!1===e)return!1;c.helpers&&f.each(c.helpers,function(d,e){if(e&&b.helpers[d]&&f.isFunction(b.helpers[d][a]))b.helpers[d][a](f.extend(!0,{},b.helpers[d].defaults,e),c)});p.trigger(a)}},isImage:function(a){return q(a)&&a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(a){return q(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(a){var d={},e,c;a=l(a);e=b.group[a]||null;if(!e)return!1;d=f.extend(!0,{},b.opts,e);e=d.margin;c=d.padding;"number"===f.type(e)&&(d.margin=[e,e,e,e]);"number"===f.type(c)&&(d.padding=[c,c,c,c]);d.modal&&f.extend(!0,d,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}});d.autoSize&&(d.autoWidth=d.autoHeight=!0);"auto"===d.width&&(d.autoWidth=!0);"auto"===d.height&&(d.autoHeight=!0);d.group=b.group;d.index=a;b.coming=d;if(!1===b.trigger("beforeLoad"))b.coming=null;else{c=d.type;e=d.href;if(!c)return b.coming=null,b.current&&b.router&&"jumpto"!==b.router?(b.current.index=a,b[b.router](b.direction)):!1;b.isActive=!0;if("image"===c||"swf"===c)d.autoHeight=d.autoWidth=!1,d.scrolling="visible";"image"===c&&(d.aspectRatio=!0);"iframe"===c&&s&&(d.scrolling="scroll");d.wrap=f(d.tpl.wrap).addClass("fancybox-"+(s?"mobile":"desktop")+" fancybox-type-"+c+" fancybox-tmp "+d.wrapCSS).appendTo(d.parent||"body");f.extend(d,{skin:f(".fancybox-skin",d.wrap),outer:f(".fancybox-outer",d.wrap),inner:f(".fancybox-inner",d.wrap)});f.each(["Top","Right","Bottom","Left"],function(a,b){d.skin.css("padding"+b,w(d.padding[a]))});b.trigger("onReady");if("inline"===c||"html"===c){if(!d.content||!d.content.length)return b._error("content")}else if(!e)return b._error("href");"image"===c?b._loadImage():"ajax"===c?b._loadAjax():"iframe"===c?b._loadIframe():b._afterLoad()}},_error:function(a){f.extend(b.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:a,content:b.coming.tpl.error});b._afterLoad()},_loadImage:function(){var a=b.imgPreload=new Image;a.onload=function(){this.onload=this.onerror=null;b.coming.width=this.width/b.opts.pixelRatio;b.coming.height=this.height/b.opts.pixelRatio;b._afterLoad()};a.onerror=function(){this.onload=this.onerror=null;b._error("image")};a.src=b.coming.href;!0!==a.complete&&b.showLoading()},_loadAjax:function(){var a=b.coming;b.showLoading();b.ajaxLoad=f.ajax(f.extend({},a.ajax,{url:a.href,error:function(a,e){b.coming&&"abort"!==e?b._error("ajax",a):b.hideLoading()},success:function(d,e){"success"===e&&(a.content=d,b._afterLoad())}}))},_loadIframe:function(){var a=b.coming,d=f(a.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",s?"auto":a.iframe.scrolling).attr("src",a.href);f(a.wrap).bind("onReset",function(){try{f(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(a){}});a.iframe.preload&&(b.showLoading(),d.one("load",function(){f(this).data("ready",1);s||f(this).bind("load.fb",b.update);f(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();b._afterLoad()}));a.content=d.appendTo(a.inner);a.iframe.preload||b._afterLoad()},_preloadImages:function(){var a=b.group,d=b.current,e=a.length,c=d.preload?Math.min(d.preload,e-1):0,f,g;for(g=1;g<=c;g+=1)f=a[(d.index+g)%e],"image"===f.type&&f.href&&((new Image).src=f.href)},_afterLoad:function(){var a=b.coming,d=b.current,e,c,k,g,h;b.hideLoading();if(a&&!1!==b.isActive)if(!1===b.trigger("afterLoad",a,d))a.wrap.stop(!0).trigger("onReset").remove(),b.coming=null;else{d&&(b.trigger("beforeChange",d),d.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove());b.unbindEvents();e=a.content;c=a.type;k=a.scrolling;f.extend(b,{wrap:a.wrap,skin:a.skin,outer:a.outer,inner:a.inner,current:a,previous:d});g=a.href;switch(c){case"inline":case"ajax":case"html":a.selector?e=f("<div>").html(e).find(a.selector):t(e)&&(e.data("fancybox-placeholder")||e.data("fancybox-placeholder",f('<div class="fancybox-placeholder"></div>').insertAfter(e).hide()),e=e.show().detach(),a.wrap.bind("onReset",function(){f(this).find(e).length&&e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":e=a.tpl.image.replace("{href}",g);break;case"swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+g+'"></param>',h="",f.each(a.swf,function(a,b){e+='<param name="'+a+'" value="'+b+'"></param>';h+=" "+a+'="'+b+'"'}),e+='<embed src="'+g+'" type="application/x-shockwave-flash" width="100%" height="100%"'+h+"></embed></object>"}(!t(e)||!e.parent().is(a.inner))&&a.inner.append(e);b.trigger("beforeShow");a.inner.css("overflow","yes"===k?"scroll":"no"===k?"hidden":k);b._setDimension();b.reposition();b.isOpen=!1;b.coming=null;b.bindEvents();if(b.isOpened){if(d.prevMethod)b.transitions[d.prevMethod]()}else f(".fancybox-wrap").not(a.wrap).stop(!0).trigger("onReset").remove();b.transitions[b.isOpened?a.nextMethod:a.openMethod]();b._preloadImages()}},_setDimension:function(){var a=b.getViewport(),d=0,e=!1,c=!1,e=b.wrap,k=b.skin,g=b.inner,h=b.current,c=h.width,j=h.height,m=h.minWidth,u=h.minHeight,n=h.maxWidth,p=h.maxHeight,s=h.scrolling,q=h.scrollOutside?h.scrollbarWidth:0,x=h.margin,y=l(x[1]+x[3]),r=l(x[0]+x[2]),v,z,t,C,A,F,B,D,H;e.add(k).add(g).width("auto").height("auto").removeClass("fancybox-tmp");x=l(k.outerWidth(!0)-k.width());v=l(k.outerHeight(!0)-k.height());z=y+x;t=r+v;C=E(c)?(a.w-z)*l(c)/100:c;A=E(j)?(a.h-t)*l(j)/100:j;if("iframe"===h.type){if(H=h.content,h.autoHeight&&1===H.data("ready"))try{H[0].contentWindow.document.location&&(g.width(C).height(9999),F=H.contents().find("body"),q&&F.css("overflow-x","hidden"),A=F.outerHeight(!0))}catch(G){}}else if(h.autoWidth||h.autoHeight)g.addClass("fancybox-tmp"),h.autoWidth||g.width(C),h.autoHeight||g.height(A),h.autoWidth&&(C=g.width()),h.autoHeight&&(A=g.height()),g.removeClass("fancybox-tmp");c=l(C);j=l(A);D=C/A;m=l(E(m)?l(m,"w")-z:m);n=l(E(n)?l(n,"w")-z:n);u=l(E(u)?l(u,"h")-t:u);p=l(E(p)?l(p,"h")-t:p);F=n;B=p;h.fitToView&&(n=Math.min(a.w-z,n),p=Math.min(a.h-t,p));z=a.w-y;r=a.h-r;h.aspectRatio?(c>n&&(c=n,j=l(c/D)),j>p&&(j=p,c=l(j*D)),c<m&&(c=m,j=l(c/D)),j<u&&(j=u,c=l(j*D))):(c=Math.max(m,Math.min(c,n)),h.autoHeight&&"iframe"!==h.type&&(g.width(c),j=g.height()),j=Math.max(u,Math.min(j,p)));if(h.fitToView)if(g.width(c).height(j),e.width(c+x),a=e.width(),y=e.height(),h.aspectRatio)for(;(a>z||y>r)&&(c>m&&j>u)&&!(19<d++);)j=Math.max(u,Math.min(p,j-10)),c=l(j*D),c<m&&(c=m,j=l(c/D)),c>n&&(c=n,j=l(c/D)),g.width(c).height(j),e.width(c+x),a=e.width(),y=e.height();else c=Math.max(m,Math.min(c,c-(a-z))),j=Math.max(u,Math.min(j,j-(y-r)));q&&("auto"===s&&j<A&&c+x+q<z)&&(c+=q);g.width(c).height(j);e.width(c+x);a=e.width();y=e.height();e=(a>z||y>r)&&c>m&&j>u;c=h.aspectRatio?c<F&&j<B&&c<C&&j<A:(c<F||j<B)&&(c<C||j<A);f.extend(h,{dim:{width:w(a),height:w(y)},origWidth:C,origHeight:A,canShrink:e,canExpand:c,wPadding:x,hPadding:v,wrapSpace:y-k.outerHeight(!0),skinSpace:k.height()-j});!H&&(h.autoHeight&&j>u&&j<p&&!c)&&g.height("auto")},_getPosition:function(a){var d=b.current,e=b.getViewport(),c=d.margin,f=b.wrap.width()+c[1]+c[3],g=b.wrap.height()+c[0]+c[2],c={position:"absolute",top:c[0],left:c[3]};d.autoCenter&&d.fixed&&!a&&g<=e.h&&f<=e.w?c.position="fixed":d.locked||(c.top+=e.y,c.left+=e.x);c.top=w(Math.max(c.top,c.top+(e.h-g)*d.topRatio));c.left=w(Math.max(c.left,c.left+(e.w-f)*d.leftRatio));return c},_afterZoomIn:function(){var a=b.current;a&&(b.isOpen=b.isOpened=!0,b.wrap.css("overflow","visible").addClass("fancybox-opened"),b.update(),(a.closeClick||a.nextClick&&1<b.group.length)&&b.inner.css("cursor","pointer").bind("click.fb",function(d){!f(d.target).is("a")&&!f(d.target).parent().is("a")&&(d.preventDefault(),b[a.closeClick?"close":"next"]())}),a.closeBtn&&f(a.tpl.closeBtn).appendTo(b.skin).bind("click.fb",function(a){a.preventDefault();b.close()}),a.arrows&&1<b.group.length&&((a.loop||0<a.index)&&f(a.tpl.prev).appendTo(b.outer).bind("click.fb",b.prev),(a.loop||a.index<b.group.length-1)&&f(a.tpl.next).appendTo(b.outer).bind("click.fb",b.next)),b.trigger("afterShow"),!a.loop&&a.index===a.group.length-1?b.play(!1):b.opts.autoPlay&&!b.player.isActive&&(b.opts.autoPlay=!1,b.play()))},_afterZoomOut:function(a){a=a||b.current;f(".fancybox-wrap").trigger("onReset").remove();f.extend(b,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null});b.trigger("afterClose",a)}});b.transitions={getOrigPosition:function(){var a=b.current,d=a.element,e=a.orig,c={},f=50,g=50,h=a.hPadding,j=a.wPadding,m=b.getViewport();!e&&(a.isDom&&d.is(":visible"))&&(e=d.find("img:first"),e.length||(e=d));t(e)?(c=e.offset(),e.is("img")&&(f=e.outerWidth(),g=e.outerHeight())):(c.top=m.y+(m.h-g)*a.topRatio,c.left=m.x+(m.w-f)*a.leftRatio);if("fixed"===b.wrap.css("position")||a.locked)c.top-=m.y,c.left-=m.x;return c={top:w(c.top-h*a.topRatio),left:w(c.left-j*a.leftRatio),width:w(f+j),height:w(g+h)}},step:function(a,d){var e,c,f=d.prop;c=b.current;var g=c.wrapSpace,h=c.skinSpace;if("width"===f||"height"===f)e=d.end===d.start?1:(a-d.start)/(d.end-d.start),b.isClosing&&(e=1-e),c="width"===f?c.wPadding:c.hPadding,c=a-c,b.skin[f](l("width"===f?c:c-g*e)),b.inner[f](l("width"===f?c:c-g*e-h*e))},zoomIn:function(){var a=b.current,d=a.pos,e=a.openEffect,c="elastic"===e,k=f.extend({opacity:1},d);delete k.position;c?(d=this.getOrigPosition(),a.openOpacity&&(d.opacity=0.1)):"fade"===e&&(d.opacity=0.1);b.wrap.css(d).animate(k,{duration:"none"===e?0:a.openSpeed,easing:a.openEasing,step:c?this.step:null,complete:b._afterZoomIn})},zoomOut:function(){var a=b.current,d=a.closeEffect,e="elastic"===d,c={opacity:0.1};e&&(c=this.getOrigPosition(),a.closeOpacity&&(c.opacity=0.1));b.wrap.animate(c,{duration:"none"===d?0:a.closeSpeed,easing:a.closeEasing,step:e?this.step:null,complete:b._afterZoomOut})},changeIn:function(){var a=b.current,d=a.nextEffect,e=a.pos,c={opacity:1},f=b.direction,g;e.opacity=0.1;"elastic"===d&&(g="down"===f||"up"===f?"top":"left","down"===f||"right"===f?(e[g]=w(l(e[g])-200),c[g]="+=200px"):(e[g]=w(l(e[g])+200),c[g]="-=200px"));"none"===d?b._afterZoomIn():b.wrap.css(e).animate(c,{duration:a.nextSpeed,easing:a.nextEasing,complete:b._afterZoomIn})},changeOut:function(){var a=b.previous,d=a.prevEffect,e={opacity:0.1},c=b.direction;"elastic"===d&&(e["down"===c||"up"===c?"top":"left"]=("up"===c||"left"===c?"-":"+")+"=200px");a.wrap.animate(e,{duration:"none"===d?0:a.prevSpeed,easing:a.prevEasing,complete:function(){f(this).trigger("onReset").remove()}})}};b.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!s,fixed:!0},overlay:null,fixed:!1,el:f("html"),create:function(a){a=f.extend({},this.defaults,a);this.overlay&&this.close();this.overlay=f('<div class="fancybox-overlay"></div>').appendTo(b.coming?b.coming.parent:a.parent);this.fixed=!1;a.fixed&&b.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(a){var d=this;a=f.extend({},this.defaults,a);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(a);this.fixed||(n.bind("resize.overlay",f.proxy(this.update,this)),this.update());a.closeClick&&this.overlay.bind("click.overlay",function(a){if(f(a.target).hasClass("fancybox-overlay"))return b.isActive?b.close():d.close(),!1});this.overlay.css(a.css).show()},close:function(){var a,b;n.unbind("resize.overlay");this.el.hasClass("fancybox-lock")&&(f(".fancybox-margin").removeClass("fancybox-margin"),a=n.scrollTop(),b=n.scrollLeft(),this.el.removeClass("fancybox-lock"),n.scrollTop(a).scrollLeft(b));f(".fancybox-overlay").remove().hide();f.extend(this,{overlay:null,fixed:!1})},update:function(){var a="100%",b;this.overlay.width(a).height("100%");I?(b=Math.max(G.documentElement.offsetWidth,G.body.offsetWidth),p.width()>b&&(a=p.width())):p.width()>n.width()&&(a=p.width());this.overlay.width(a).height(p.height())},onReady:function(a,b){var e=this.overlay;f(".fancybox-overlay").stop(!0,!0);e||this.create(a);a.locked&&(this.fixed&&b.fixed)&&(e||(this.margin=p.height()>n.height()?f("html").css("margin-right").replace("px",""):!1),b.locked=this.overlay.append(b.wrap),b.fixed=!1);!0===a.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(a,b){var e,c;b.locked&&(!1!==this.margin&&(f("*").filter(function(){return"fixed"===f(this).css("position")&&!f(this).hasClass("fancybox-overlay")&&!f(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),e=n.scrollTop(),c=n.scrollLeft(),this.el.addClass("fancybox-lock"),n.scrollTop(e).scrollLeft(c));this.open(a)},onUpdate:function(){this.fixed||this.update()},afterClose:function(a){this.overlay&&!b.coming&&this.overlay.fadeOut(a.speedOut,f.proxy(this.close,this))}};b.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(a){var d=b.current,e=d.title,c=a.type;f.isFunction(e)&&(e=e.call(d.element,d));if(q(e)&&""!==f.trim(e)){d=f('<div class="fancybox-title fancybox-title-'+c+'-wrap">'+e+"</div>");switch(c){case"inside":c=b.skin;break;case"outside":c=b.wrap;break;case"over":c=b.inner;break;default:c=b.skin,d.appendTo("body"),I&&d.width(d.width()),d.wrapInner('<span class="child"></span>'),b.current.margin[2]+=Math.abs(l(d.css("margin-bottom")))}d["top"===a.position?"prependTo":"appendTo"](c)}}};f.fn.fancybox=function(a){var d,e=f(this),c=this.selector||"",k=function(g){var h=f(this).blur(),j=d,k,l;!g.ctrlKey&&(!g.altKey&&!g.shiftKey&&!g.metaKey)&&!h.is(".fancybox-wrap")&&(k=a.groupAttr||"data-fancybox-group",l=h.attr(k),l||(k="rel",l=h.get(0)[k]),l&&(""!==l&&"nofollow"!==l)&&(h=c.length?f(c):e,h=h.filter("["+k+'="'+l+'"]'),j=h.index(this)),a.index=j,!1!==b.open(h,a)&&g.preventDefault())};a=a||{};d=a.index||0;!c||!1===a.live?e.unbind("click.fb-start").bind("click.fb-start",k):p.undelegate(c,"click.fb-start").delegate(c+":not('.fancybox-item, .fancybox-nav')","click.fb-start",k);this.filter("[data-fancybox-start=1]").trigger("click");return this};p.ready(function(){var a,d;f.scrollbarWidth===v&&(f.scrollbarWidth=function(){var a=f('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),b=a.children(),b=b.innerWidth()-b.height(99).innerWidth();a.remove();return b});if(f.support.fixedPosition===v){a=f.support;d=f('<div style="position:fixed;top:20px;"></div>').appendTo("body");var e=20===d[0].offsetTop||15===d[0].offsetTop;d.remove();a.fixedPosition=e}f.extend(b.defaults,{scrollbarWidth:f.scrollbarWidth(),fixed:f.support.fixedPosition,parent:f("body")});a=f(r).width();J.addClass("fancybox-lock-test");d=f(r).width();J.removeClass("fancybox-lock-test");f("<style type='text/css'>.fancybox-margin{margin-right:"+(d-a)+"px;}</style>").appendTo("head")})})(window,document,jQuery);
;function bbmedia_getQueryVariable(e,t){if("undefined"==typeof e||""==e||"undefined"==typeof t||""==t)return"";for(var a=e.split("&"),i=0;i<a.length;i++){var o=a[i].split("=");if(o[0]==t)return o[1]}return!1}function buddyboss_media_initiate_media_move(e){if($link=$(e),$form=$("#frm_buddyboss-media-move-media"),$form_wrapper=$form.parent(),$link.closest(".activity").find("form.ac-form").slideUp(),$form_wrapper.is(":visible"))return buddyboss_media_move_media_close(),!1;$link.closest(".activity-content").after($form_wrapper);var t=$link.data("album_id");return t||(t=""),$form.find("#buddyboss_media_move_media_albums").val(t),$form_wrapper.slideDown(200),bbmedia_move_media_opened=!0,$form.find('input[name="activity_id"]').val($link.data("activity_id")),!1}function buddyboss_media_submit_media_move(){if($form=$("#frm_buddyboss-media-move-media"),$submit_button=$form.find('input[type="submit"]'),$submit_button.hasClass("loading"))return!1;var e={action:$form.find('input[name="action"]').val(),bboss_media_move_media_nonce:$form.find('input[name="bboss_media_move_media_nonce"]').val(),activity_id:$form.find('input[name="activity_id"]').val(),buddyboss_media_move_media_albums:$form.find('select[name="buddyboss_media_move_media_albums"]').val()};return $submit_button.addClass("loading"),$form.find("#message").removeAttr("class").html(""),$.ajax({type:"POST",url:ajaxurl,data:e,success:function(e){e=$.parseJSON(e),e.status?($form.find("#message").addClass("updated").html("<p>"+e.message+"</p>"),"yes"==$form.find('input[name="is_single_album"]').val()?setTimeout(function(){buddyboss_media_media_move_cleanup($form,!0)},2e3):setTimeout(function(){buddyboss_media_media_move_cleanup($form,!1)},2e3)):$form.find("#message").addClass("error").html("<p>"+e.message+"</p>"),$submit_button.removeClass("loading")}}),!1}function buddyboss_media_media_move_cleanup(e,t){e.find("#message").removeAttr("class").html(""),$form_wrapper=e.parent(),buddyboss_media_move_media_close(),t&&($activity=e.closest(".activity"),$("body").append($form_wrapper),$form_wrapper.hide(),$activity.slideUp(200,function(){$activity.remove()}))}function buddyboss_media_move_media_close(){return $form=$("#frm_buddyboss-media-move-media"),$form_wrapper=$form.parent(),$form_wrapper.slideUp(200),bbmedia_move_media_opened=!1,!1}function buddyboss_media_initiate_tagging(e){if($link=$(e),$form=$("#frm_buddyboss-media-tag-friends"),$form_wrapper=$form.parent(),$link.closest(".activity").find("form.ac-form").slideUp(),$form_wrapper.is(":visible"))return buddyboss_media_tag_friends_close(),!1;$link.closest(".activity-content").after($form_wrapper),$form_wrapper.slideDown(200),bbmedia_tag_friends_opened=!0,$form.find('input[name="activity_id"]').val($link.data("activity_id"));var t=($form.find('input[name="preloader"]').val(),{action:$form.find('input[name="action"]').val(),buddyboss_media_tag_friends_nonce:$form.find('input[name="buddyboss_media_tag_friends_nonce"]').val(),activity_id:$form.find('input[name="activity_id"]').val()});return $.ajax({type:"POST",url:ajaxurl,data:t,success:function(e){e=$.parseJSON(e),$form.find("#invite-list").html(e.friends_list),$form.find(".main-column-content").html(e.tagged_friends),$('#invite-list input[name="friends[]"]').change(function(){buddyboss_media_tag_friends_toggle_tag(t.activity_id,$(this).val())}),$("#friend-list .action .remove").click(function(e){e.preventDefault(),buddyboss_media_tag_friends_toggle_tag(t.activity_id,$(this).data("userid"))})}}),!1}function buddyboss_media_tag_friends_close(){return $form=$("#frm_buddyboss-media-tag-friends"),$form_wrapper=$form.parent(),$form_wrapper.slideUp(200),bbmedia_tag_friends_opened=!1,!1}function buddyboss_media_tag_friends_toggle_tag(e,t){$form=$("#frm_buddyboss-media-tag-friends");var a={action:$form.find('input[name="action_tag"]').val(),buddyboss_media_tag_friends_nonce:$form.find('input[name="buddyboss_media_tag_friends_nonce"]').val(),activity_id:e,friend_id:t};$.ajax({type:"POST",url:ajaxurl,data:a,success:function(e){e=$.parseJSON(e),$form.find("#invite-list").html(e.friends_list),$form.find(".main-column-content").html(e.tagged_friends),$('#invite-list input[name="friends[]"]').change(function(){buddyboss_media_tag_friends_toggle_tag(a.activity_id,$(this).val())}),$("#friend-list .action .remove").click(function(e){e.preventDefault(),buddyboss_media_tag_friends_toggle_tag(a.activity_id,$(this).data("userid"))})}})}function buddyboss_media_tag_friends_complete(){$form=$("#frm_buddyboss-media-tag-friends");var e={action:$form.find('input[name="action_tag_complete"]').val(),buddyboss_media_tag_friends_nonce:$form.find('input[name="buddyboss_media_tag_friends_nonce"]').val(),activity_id:$form.find('input[name="activity_id"]').val(),update_action:!1};return $form.closest(".activity").find(BuddyBoss_Media_Appstate.activity_header_selector).length>0&&(e.update_action=!0),$form.find('input[type="submit"]').addClass("loading"),$.ajax({type:"POST",url:ajaxurl,data:e,success:function(t){$form.find('input[type="submit"]').removeClass("loading"),e.update_action===!0&&(t=$.parseJSON(t),$activity=$form.closest(".activity"),$activity.find(BuddyBoss_Media_Appstate.activity_header_selector).html(t.activity_action),t.activity_tooltip&&($activity.find(".buddyboss-media-tt-content").remove(),$activity.append(t.activity_tooltip),window.BBMediaTooltips.initTooltips())),buddyboss_media_tag_friends_close()}}),!1}var jq=$=jQuery.noConflict();window.Code=window.Code||{Util:!1,PhotoSwipe:!1},window.BuddyBoss_Media_Util=function(e,t,a){function i(){!d.state.isMobile&&n.width()<=800?d.state.isMobile=!0:d.state.isMobile||(d.state.isMobile=!1)}var o,n=t(e),d={state:a,lang:function(e){var e=e||"undefined key!";return a[e]||"Language key missing for: "+e}};return i(),n.on("resize orientationchange",function(){clearTimeout(o),o=setTimeout(i,75)}),d}(window,window.jQuery,window.BuddyBoss_Media_Appstate||{}),window.Code.BuddyBossSwiper=function(e,t,a){function i(t,a,i){var o=bbmedia_getQueryVariable(i.data,"action"),n=function(e){return function(){"heartbeat"!==e&&"bbm_activity_mark_fav"!==e&&"bbm_activity_mark_unfav"!==e&&BuddyBossSwiperClass.reset()}}(o);e.setTimeout(n,205),e.setTimeout(n,750)}if(!t||!a)return!1;var o,n,d,s,r,l,u,m,c=$("#buddyboss-media-grid"),p=($(document),!1);return buddyboss_mediawipe_options={preventSlideshow:!0,imageScaleMethod:"fitNoUpscale",loop:!1,captionAndToolbarAutoHideDelay:0,getToolbar:function(){return'<div class="ps-toolbar-close"><div class="ps-toolbar-content"></div></div><div class="ps-toolbar-favorite"><div class="ps-toolbar-content"></div><div class="ps-favorite-count"></div></div><div class="ps-toolbar-comments"><div class="ps-toolbar-content"></div><div class="ps-comments-count"></div></div><div class="ps-toolbar-delete"><div class="ps-toolbar-content loading" style="display:none"><i class="fa fa-spinner fa-spin"></i></div><div class="ps-toolbar-content real"></div></div><div class="ps-toolbar-previous ps-toolbar-previous-disabled"><div class="ps-toolbar-content"></div></div><div class="ps-toolbar-next"><div class="ps-toolbar-content"></div></div>'},getImageCaption:function(e){var t,a,i=$(e);return o="#",n="",0==i.find("img").length?"":(o=i.find("img")[0].getAttribute("data-permalink"),current_photo_owner=i.find("img")[0].getAttribute("data-owner"),current_photo_media=i.find("img")[0].getAttribute("data-media"),current_photo_link_elm=i,r=i.find("img")[0].getAttribute("data-comment-count"),l=i.find("img")[0].getAttribute("data-favorite-count"),u=i.find("img")[0].getAttribute("data-bbmfav"),m=i.find("img")[0].getAttribute("data-photo-id"),$("#bbmedia-grid-wrapper").length>0?(a=i.closest(".bbmedia-grid-item").find(".buddyboss_media_caption"),t=a.find(".buddyboss_media_caption_body"),t.find("a").remove(),n=t.text(),""===n.replace(/\s/g,"")&&(n=a.find(".buddyboss_media_caption_action").text())):(t=i.parents(".activity-inner").clone(),t.find("a").remove(),n=t.text(),""===n.replace(/\s/g,"")&&(n=i.parents(".activity-content").find(".activity-header").text())),$.trim(n))},getImageMetaData:function(){return{href:o,caption:n,owner:current_photo_owner,media:current_photo_media,link_elm:current_photo_link_elm,comment_count:r,favorite_count:l,favorite_class:u,photo_id:m}}},BuddyBossSwiperClass={has_grid:function(){return c.length>0},has_photoswipe:function(){return p!==!1},location_from_current:function(){var t,a,i;return BuddyBossSwiperClass.has_photoswipe()?(t=p.getCurrentImage(),a=t.metaData.href,i={comments_href:a,current:t},$(document).trigger("buddyboss:media:comment_link",i),void setTimeout(function(){e.location=a},15)):!1},reset:function(){if(p!==!1)try{a.detatch(p)}catch(e){}BuddyBossSwiperClass.start()},start:function(){var i=BuddyBossSwiperClass.has_grid()?".gallery-icon > a":".buddyboss-media-photo-wrap",r=$(i);r.length>0&&(p=r.photoSwipe(buddyboss_mediawipe_options),p.addEventHandler(a.EventTypes.onBeforeShow,function(){$("html").css({overflow:"hidden"})}),p.addEventHandler(a.EventTypes.onHide,function(){$("html").css({overflow:"auto"}),n=null,o=null,d.off("click"),d=null,s=null,setTimeout(function(){$(e).trigger("reset_carousel")},555)}),p.addEventHandler(a.EventTypes.onCaptionAndToolbarShow,function(){d=$(".ps-caption").on("click",function(){e.location=p.getCurrentImage().metaData.href}),s=$(".ps-toolbar-comments")}),p.addEventHandler(a.EventTypes.onToolbarTap,function(i){if(i.toolbarAction===a.Toolbar.ToolbarAction.none){if(i.tapTarget===s[0]||t.DOM.isChildOf(i.tapTarget,s[0])){var o=p.getCurrentImage(),n=o.metaData.href,d={comments_href:n,current:o};$(document).trigger("buddyboss:media:comment_link",d),e.location=n}if(i.tapTarget===$(".ps-toolbar-favorite")[0]||t.DOM.isChildOf(i.tapTarget,$(".ps-toolbar-favorite")[0])){cache_ele=p.getCurrentImage().metaData.link_elm;var r=p.getCurrentImage().metaData,l=r.media,u=$("#activity-"+l).find(".buddyboss-media-photo").first(),m=u.attr("data-bbmfav"),c="bbm-fav"===m?"fav":"unfav";mark_it=jq.post(ajaxurl,{action:"bbm_activity_mark_"+c,id:l,item_type:"bbm_activity_mark"});try{mark_it.done(function(e){if(e){if(e=jq.parseJSON(e),"fav"===e.action){jq(".ps-toolbar-favorite").removeClass("bbm-fav"),jq(".ps-toolbar-favorite").addClass("bbm-unfav"),jq(u).attr("data-bbmfav","bbm-unfav");var t=jq("#activity-"+l).find(".activity-meta .fav");if(t.length>0){var a=jq(t).attr("href");jq(t).removeClass("fav"),jq(t).addClass("unfav"),jq(t).attr("title",BP_DTheme.remove_fav);var i=a.replace("unfavorite","favorite");jq(t).attr("href",i)}}else{jq(".ps-toolbar-favorite").removeClass("bbm-unfav"),jq(".ps-toolbar-favorite").addClass("bbm-fav"),jq(u).attr("data-bbmfav","bbm-fav");var t=jq("#activity-"+l).find(".activity-meta .unfav");if(t.length>0){var a=jq(t).attr("href");jq(t).removeClass("unfav"),jq(t).addClass("fav"),jq(t).attr("title",BP_DTheme.mark_as_fav);var i=a.replace("favorite","unfavorite");jq(t).attr("href",i)}}jq(u).attr("data-favorite-count",e.count),jq(".ps-favorite-count").html(e.count)}})}catch(i){}}if((i.tapTarget===$(".ps-toolbar-delete")[0]||t.DOM.isChildOf(i.tapTarget,$(".ps-toolbar-delete")[0]))&&confirm(BuddyBoss_Media_Appstate.sure_delete_photo)){$(".ps-toolbar-delete").find(".loading").show(),$(".ps-toolbar-delete").find(".real").hide(),cache_ele=p.getCurrentImage().metaData.link_elm,delete_it=jq.post(ajaxurl,{action:"buddyboss_delete_media",media:p.getCurrentImage().metaData.media,"photo-id":p.getCurrentImage().metaData.photo_id});try{delete_it.done(function(e){"done"==e?(jq("#activity-"+p.getCurrentImage().metaData.media).remove(),jq(".ps-toolbar-content").click(),location.reload()):alert(e)}),delete_it.always(function(){$(".ps-toolbar-delete").find(".loading").hide(),$(".ps-toolbar-delete").find(".real").show(),jq(cache_ele).first().click()})}catch(i){}}}}),p.addEventHandler(a.EventTypes.onDisplayImage,function(){$(".ps-comments-count").html(p.getCurrentImage().metaData.comment_count),$delete_link=$(".ps-toolbar-delete"),"1"==p.getCurrentImage().metaData.owner?$delete_link.show():$delete_link.hide();var e=p.getCurrentImage().metaData.media,t=$("#activity-"+e).find(".buddyboss-media-photo").first();$(".ps-favorite-count").html(t.attr("data-favorite-count")),$(".ps-toolbar-favorite").removeClass("bbm-unfav"),$(".ps-toolbar-favorite").removeClass("bbm-fav"),$(".ps-toolbar-favorite").addClass(t.attr("data-bbmfav"))}))}},BuddyBossSwiperClass.start(),$(document).ajaxSuccess(i),BuddyBossSwiperClass}(window,window.Code.Util||!1,window.Code.PhotoSwipe||!1,window.BuddyBoss_Media_Util),window.BuddyBoss_Media_Uploader=function(e,t,a){var i=!1,o={},n=0,d=a.state||{},s=a.lang,r=[],l={init:function(){var e=this;return this.inject_markup(),this.get_elements()?(this.setup_modal(),this.setup_textbox(),setTimeout(function(){e.start_uploader()},10),void t.ajaxPrefilter(l.prefilter)):!1},destroy:function(){},inject_markup:function(){var e=t(".my-gallery .activity-greeting"),a=s("user_add_photo");e.length&&a&&e.text(a).show();var i=t("#whats-new-content"),o=t("#buddyboss-media-tpl-add-photo");o.length&&i.length&&i.before(o.html());var n=t("#buddyboss-media-tpl-preview");n.length&&i.length&&i.find("textarea").after(n.html())},get_elements:function(){return o.$whats_new=t("#whats-new"),0===o.$whats_new.length?!1:(o.$add_photo=t("#buddyboss-media-bulk-uploader"),o.$open_uploder_button=t("#buddyboss-media-add-photo-button"),o.$add_photo_button=t("#logo-file-browser-button"),o.$post_button=t("#whats-new-submit").find("[type=submit],button"),o.$uploader=t("#buddyboss-media-bulk-uploader"),o.$uploaded=t("#buddyboss-media-bulk-uploader-uploaded .images"),o.$preview_pane=t("#buddyboss-media-preview-inner"),!0)},setup_textbox:function(){o.$whats_new.blur(function(){setTimeout(function(){r&&r.length>0&&(o.$post_button.removeAttr("disabled"),o.$post_button.prop("disabled",!1))},200)})},setup_modal:function(){o.$open_uploder_button.fancybox({href:"#buddyboss-media-bulk-uploader-wrapper",minWidth:500,beforeLoad:function(){t("#buddyboss-media-bulk-uploader-text").val(o.$whats_new.val())},beforeClose:function(){t("#buddyboss-media-bulk-uploader-text").length>0&&o.$whats_new.val(t("#buddyboss-media-bulk-uploader-text").val())}}),t("#aw-whats-new-submit-bbmedia").click(function(){t.fancybox.close(),o.$post_button.trigger("click")})},prefilter:function(e,a){var i=bbmedia_getQueryVariable(e.data,"action");if("undefined"!=typeof i&&"post_update"==i){var o,n="";if(r.length>0){for(var d=0;d<r.length;d++){var s=t("<a/>").attr("href",r[d].url).attr("target","_blank").attr("title",r[d].name).addClass("buddyboss-media-photo-link").html(r[d].name)[0].outerHTML;n+=s}o=t.extend({},a.data,{content:a.data.content+" "+n,pics_uploaded:r}),e.data=t.param(o),e.success=function(e){return function(a,i,o){t.isFunction(e)&&e(a,i,o),a[0]+a[1]!=="-1"&&l.post_success(a,i,o)}}(e.success)}else a.data&&"get_single_activity_content"===a.data.action&&(e.success=function(e){return function(a,i,o){t.isFunction(e)&&e(a,i,o),a[0]+a[1]!=="-1"&&l.readmore_success(a,i,o)}}(e.success))}},post_success:function(){var e=t("li.new-update").find(".buddyboss-media-photo-wrap");e.length>0&&"object"==typeof BuddyBossSwiper&&BuddyBossSwiper.hasOwnProperty("reset")&&BuddyBossSwiper.reset(),r=[],o.$preview_pane.html(""),o.$uploaded.html(""),i.splice(0,i.files.length),n=0},start_uploader:function(){var e,a=0,l=-1!==navigator.userAgent.indexOf("IEMobile");if(l&&o.$add_photo.addClass("legacy"),i=new plupload.Uploader({runtimes:d.uploader_runtimes||"html5,flash,silverlight,html4",browse_button:o.$add_photo_button[0],dragdrop:!0,container:"buddyboss-media-bulk-uploader-reception",drop_element:"buddyboss-media-bulk-uploader-wrapper",max_file_size:d.uploader_filesize||"10mb",multi_selection:d.uploader_multiselect||!1,url:ajaxurl,multipart:!0,multipart_params:{action:"buddyboss_media_post_photo",cookie:encodeURIComponent(document.cookie),_wpnonce_post_update:t("input#_wpnonce_post_update").val()},flash_swf_url:d.uploader_swf_url||"",silverlight_xap_url:d.uploader_xap_url||"",filters:[{title:s("file_browse_title"),extensions:d.uploader_filetypes||"jpg,jpeg,gif,png,bmp",prevent_duplicates:!0}],init:{Init:function(){"0"==o.$add_photo.find(".moxie-shim").find("input").length?(o.$add_photo.find(".moxie-shim").first().css("z-index",10),o.$add_photo.find(".moxie-shim").css("cursor","pointer")):(clone=t(o.$add_photo_button[0]).clone(),t(o.$add_photo_button[0]).after(clone).remove(),o.$add_photo_button[0]=clone,t(o.$add_photo_button[0]).on("click",function(){o.$add_photo.find(".moxie-shim").find("input").click()}))},FilesAdded:function(e,a){if(jQuery("#aw-whats-new-submit-bbmedia").prop("disabled",!0),e.files.length>d.uploader_max_files||a.length>d.uploader_max_files)return i.splice(n,i.files.length),alert(s("exceed_max_files_per_batch")),!1;for(var r=0;r<a.length;r++)if(0===t('div[data-fileid="'+a[r].id+'"]').length){var l="<div data-fileid='"+a[r].id+"' class='file uploading'><img src='"+d.uploader_temp_img+"'><progress class='buddyboss-media-progress-bar' value='0' max='100'></progress></div>";o.$uploaded.append(l),o.$preview_pane.append(l),n++}t.fancybox.update(),e.start()},UploadProgress:function(i,o){o&&o.hasOwnProperty("percent")&&(e=t('div[data-fileid="'+o.id+'"]').find("progress"),a=o.percent,e.val(a))},FileUploaded:function(e,a,i){jQuery("#aw-whats-new-submit-bbmedia").prop("disabled",!1);var o=t.parseJSON(i.response);$file=t('div[data-fileid="'+a.id+'"]'),$file.removeClass("uploading"),$file.data("attachment_id",o.attachment_id),$file.find(">img").attr("src",o.url),$file.find("progress").replaceWith("<a href='#' onclick='return window.BuddyBoss_Media_Uploader.removeUploaded(\""+a.id+"\");' class='delete'>+</a>"),r.push(o),t.fancybox.update()},Error:function(){jQuery("#aw-whats-new-submit-bbmedia").prop("disabled",!1),alert(s("error_uploading_photo")),$progressWrap.removeClass("uploading"),$postButton.prop("disabled",!1).removeClass("loading")}}}),i.init(),jQuery(".fancybox-close").on("click",function(){jQuery("#aw-whats-new-submit-bbmedia").prop("disabled",!1)}),t("#buddyboss-media-bulk-uploader-reception-fake").length>0){var u=document.getElementById("buddyboss-media-bulk-uploader-reception-fake");$additional_dropzone=t(u);var m=new mOxie.FileDrop({drop_zone:u});m.ondrop=function(){o.$open_uploder_button.click(),i.addFile(m.files)},m.init();var c=new mOxie.FileInput({browse_button:t("a.browse-file-button",$additional_dropzone)[0],container:u,multiple:!0});c.onchange=function(){o.$open_uploder_button.click(),i.addFile(c.files)},c.init()}},removeUploaded:function(e){var a=t('div[data-fileid="'+e+'"]');if(r.length>0){for(var o=[],d=0;d<r.length;d++)r[d].attachment_id!==a.data("attachment_id")&&o.push(r[d]);r=o}var s=!1;return t.each(i.files,function(t,a){a.hasOwnProperty("id")&&a.id==e&&(s=a)}),s&&(i.removeFile(s),n--),a.remove(),!1}},u={setup:function(){l.init()},teardown:function(){l.destroy()},removeUploaded:function(e){return l.removeUploaded(e)}};return t(document).ready(function(){l.init()}),u}(window,window.jQuery,window.BuddyBoss_Media_Util),bbmedia_move_media_opened=!1,bbmedia_tag_friends_opened=!1,$(document).ready(function(){$(document).keyup(function(e){27!=e.keyCode||bbmedia_move_media_opened!==!0&&bbmedia_tag_friends_opened!==!0||(bbmedia_move_media_opened===!0&&buddyboss_media_move_media_close(),bbmedia_tag_friends_opened===!0&&buddyboss_media_tag_friends_close())}),BBOSS_MEDIA.is_media_page?docCookies.setItem("bp-bboss-is-media-page","yes","","/"):docCookies.removeItem("bp-bboss-is-media-page","/"),$.ajaxPrefilter(function(e){var t=e.success,a=bbmedia_getQueryVariable(e.data,"action");"undefined"!=typeof a&&"activity_get_older_updates"==a&&(e.success=function(e){$("#bbmedia-grid-wrapper #activity-stream li.load-more").remove(),null!=t&&t(e)})}),$(".activity-meta").on("click","a.fav",function(){var e=$(this).parents(".activity-content").find(".buddyboss-media-photos-wrap-container");e.length>0&&$(e).find(".buddyboss-media-photo-wrap .buddyboss-media-photo").each(function(){var e=$(this).attr("data-comment-count");$(this).attr("data-bbmfav","bbm-unfav"),$(this).attr("data-favorite-count",parseInt(e)+1)})}),$(".activity-meta").on("click","a.unfav",function(){var e=$(this).parents(".activity-content").find(".buddyboss-media-photos-wrap-container");e.length>0&&$(e).find(".buddyboss-media-photo-wrap .buddyboss-media-photo").each(function(){var e=$(this).attr("data-comment-count");$(this).attr("data-bbmfav","bbm-fav"),0==e?$(this).attr("data-favorite-count",parseInt(e)):$(this).attr("data-favorite-count",parseInt(e)-1)})})}),function(e,t){var a={},i={};a.init=function(){a.initTooltips()},a.initTooltips=function(){i.tooltips=t(".buddyboss-media-tt-others"),i.tooltips.length&&i.tooltips.tooltipster({contentAsHTML:!0,functionInit:a.getTooltipContent,interactive:!0,position:"top-left",theme:"tooltipster-buddyboss"})},a.getTooltipContent=function(e){var t=e.closest("li").find(".buddyboss-media-tt-content").detach().html();return t},jQuery(document).ready(function(){1==BuddyBoss_Media_Appstate.enable_tagging&&(a.initTooltips(),e.BBMediaTooltips=a)})}(window,window.jQuery);var docCookies=docCookies||{getItem:function(e){return e?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},setItem:function(e,t,a,i,o,n){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var d="";if(a)switch(a.constructor){case Number:d=1/0===a?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+a;break;case String:d="; expires="+a;break;case Date:d="; expires="+a.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+d+(o?"; domain="+o:"")+(i?"; path="+i:"")+(n?"; secure":""),!0},removeItem:function(e,t,a){return this.hasItem(e)?(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(a?"; domain="+a:"")+(t?"; path="+t:""),!0):!1},hasItem:function(e){return e?new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie):!1},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=e.length,a=0;t>a;a++)e[a]=decodeURIComponent(e[a]);return e}};
;var Swiper=function(selector,params,callback){if(!window.addEventListener){if(!window.Element)
Element=function(){};Element.prototype.addEventListener=HTMLDocument.prototype.addEventListener=addEventListener=function(type,listener,useCapture){this.attachEvent('on'+type,listener);}
Element.prototype.removeEventListener=HTMLDocument.prototype.removeEventListener=removeEventListener=function(type,listener,useCapture){this.detachEvent('on'+type,listener);}}
if(document.body.__defineGetter__){if(HTMLElement){var element=HTMLElement.prototype;if(element.__defineGetter__)
element.__defineGetter__("outerHTML",function(){return new XMLSerializer().serializeToString(this);});}}
if(!window.getComputedStyle){window.getComputedStyle=function(el,pseudo){this.el=el;this.getPropertyValue=function(prop){var re=/(\-([a-z]){1})/g;if(prop=='float')prop='styleFloat';if(re.test(prop)){prop=prop.replace(re,function(){return arguments[2].toUpperCase();});}
return el.currentStyle[prop]?el.currentStyle[prop]:null;}
return this;}}
if(!(selector.nodeType))
if(!document.querySelectorAll||document.querySelectorAll(selector).length==0)return;function dQ(s){return document.querySelectorAll(s)}
var _this=this
_this.touches={};_this.positions={current:0};_this.id=(new Date()).getTime();_this.container=(selector.nodeType)?selector:dQ(selector)[0];_this.times={};_this.isTouched=false;_this.realIndex=0;_this.activeSlide=0;_this.activeIndex=0;_this.previousSlide=null;_this.previousIndex=null;_this.langDirection=window.getComputedStyle(_this.container,null).getPropertyValue('direction')
_this.support={touch:_this.isSupportTouch(),threeD:_this.isSupport3D()}
_this.use3D=_this.support.threeD;var defaults={mode:'horizontal',ratio:1,speed:300,freeMode:false,freeModeFluid:false,slidesPerSlide:1,slidesPerGroup:1,simulateTouch:true,followFinger:true,shortSwipes:true,moveStartThreshold:false,autoPlay:false,onlyExternal:false,createPagination:true,pagination:false,resistance:true,nopeek:false,scrollContainer:false,preventLinks:true,preventClassNoSwiping:true,initialSlide:0,keyboardControl:false,mousewheelControl:false,resizeEvent:'orientationchange',useCSS3Transforms:true,slideElement:'div',slideClass:'swiper-slide',wrapperClass:'swiper-wrapper',paginationClass:'swiper-pagination-switch',paginationActiveClass:'swiper-active-switch'}
params=params||{};for(var prop in defaults){if(!(prop in params)){params[prop]=defaults[prop]}}
_this.params=params;if(params.scrollContainer){params.freeMode=true;params.freeModeFluid=true;}
var _widthFromCSS=false
if(params.slidesPerSlide=='auto'){_widthFromCSS=true;params.slidesPerSlide=1;}
var wrapper,isHorizontal,slideSize,numOfSlides,wrapperSize,direction,isScrolling,containerSize;for(var i=_this.container.childNodes.length-1;i>=0;i--){if(_this.container.childNodes[i].className){var _wrapperClasses=_this.container.childNodes[i].className.split(' ')
for(var j=0;j<_wrapperClasses.length;j++){if(_wrapperClasses[j]===params.wrapperClass){wrapper=_this.container.childNodes[i]}};}};_this.wrapper=wrapper;isHorizontal=params.mode=='horizontal';_this.touchEvents={touchStart:_this.support.touch||!params.simulateTouch?'touchstart':(_this.ie10?'MSPointerDown':'mousedown'),touchMove:_this.support.touch||!params.simulateTouch?'touchmove':(_this.ie10?'MSPointerMove':'mousemove'),touchEnd:_this.support.touch||!params.simulateTouch?'touchend':(_this.ie10?'MSPointerUp':'mouseup')};_this._extendSwiperSlide=function(el){el.append=function(){_this.wrapper.appendChild(el);_this.reInit();return el;}
el.prepend=function(){_this.wrapper.insertBefore(el,_this.wrapper.firstChild)
_this.reInit();return el;}
el.insertAfter=function(index){if(typeof index==='undefined')return false;var beforeSlide=_this.slides[index+1]
_this.wrapper.insertBefore(el,beforeSlide)
_this.reInit();return el;}
el.clone=function(){return _this._extendSwiperSlide(el.cloneNode(true))}
el.remove=function(){_this.wrapper.removeChild(el);_this.reInit()}
el.html=function(html){if(typeof html==='undefined'){return el.innerHTML}
else{el.innerHTML=html;return el;}}
el.index=function(){var index
for(var i=_this.slides.length-1;i>=0;i--){if(el==_this.slides[i])index=i};return index;}
el.isActive=function(){if(el.index()==_this.activeIndex)return true;else return false;}
if(!el.swiperSlideDataStorage)el.swiperSlideDataStorage={};el.getData=function(name){return el.swiperSlideDataStorage[name]}
el.setData=function(name,value){el.swiperSlideDataStorage[name]=value;return el;}
el.data=function(name,value){if(!value){return el.getAttribute('data-'+name);}
else{el.setAttribute('data-'+name,value);return el;}}
return el;}
_this._calcSlides=function(){var oldNumber=_this.slides?_this.slides.length:false;_this.slides=[]
for(var i=0;i<_this.wrapper.childNodes.length;i++){if(_this.wrapper.childNodes[i].className){var _slideClasses=_this.wrapper.childNodes[i].className.split(' ')
for(var j=0;j<_slideClasses.length;j++){if(_slideClasses[j]===params.slideClass)_this.slides.push(_this.wrapper.childNodes[i])};}};for(var i=_this.slides.length-1;i>=0;i--){_this._extendSwiperSlide(_this.slides[i]);};if(!oldNumber)return;if(oldNumber!=_this.slides.length&&_this.createPagination){_this.createPagination();_this.callPlugins('numberOfSlidesChanged')}}
_this._calcSlides();_this.createSlide=function(html,slideClassList,el){var slideClassList=slideClassList||_this.params.slideClass;var el=el||params.slideElement;var newSlide=document.createElement(el)
newSlide.innerHTML=html||'';newSlide.className=slideClassList;return _this._extendSwiperSlide(newSlide);}
_this.appendSlide=function(html,slideClassList,el){if(!html)return;if(html.nodeType){return _this._extendSwiperSlide(html).append()}
else{return _this.createSlide(html,slideClassList,el).append()}}
_this.prependSlide=function(html,slideClassList,el){if(!html)return;if(html.nodeType){return _this._extendSwiperSlide(html).prepend()}
else{return _this.createSlide(html,slideClassList,el).prepend()}}
_this.insertSlideAfter=function(index,html,slideClassList,el){if(!index)return false;if(html.nodeType){return _this._extendSwiperSlide(html).insertAfter(index)}
else{return _this.createSlide(html,slideClassList,el).insertAfter(index)}}
_this.removeSlide=function(index){if(_this.slides[index]){_this.slides[index].remove()
return true;}
else return false;}
_this.removeLastSlide=function(){if(_this.slides.length>0){_this.slides[(_this.slides.length-1)].remove();return true}
else{return false}}
_this.removeAllSlides=function(){for(var i=_this.slides.length-1;i>=0;i--){_this.slides[i].remove()};}
_this.getSlide=function(index){return _this.slides[index]}
_this.getLastSlide=function(){return _this.slides[_this.slides.length-1]}
_this.getFirstSlide=function(){return _this.slides[0]}
_this.currentSlide=function(){return _this.slides[_this.activeIndex]}
var _plugins=[];for(var plugin in _this.plugins){if(params[plugin]){var p=_this.plugins[plugin](_this,params[plugin])
if(p)
_plugins.push(p)}}
_this.callPlugins=function(method,args){if(!args)args={}
for(var i=0;i<_plugins.length;i++){if(method in _plugins[i]){_plugins[i][method](args);}}}
if(_this.ie10&&!params.onlyExternal){if(isHorizontal)_this.wrapper.classList.add('swiper-wp8-horizontal')
else _this.wrapper.classList.add('swiper-wp8-vertical')}
if(params.loop){(function(){numOfSlides=_this.slides.length;if(_this.slides.length==0)return;var slideFirstHTML='';var slideLastHTML='';for(var i=0;i<params.slidesPerSlide;i++){slideFirstHTML+=_this.slides[i].outerHTML}
for(var i=numOfSlides-params.slidesPerSlide;i<numOfSlides;i++){slideLastHTML+=_this.slides[i].outerHTML}
wrapper.innerHTML=slideLastHTML+wrapper.innerHTML+slideFirstHTML;_this._calcSlides()
_this.callPlugins('onCreateLoop');})();}
var firstInit=false;_this.reInit=function(){_this.init(true)}
_this.init=function(reInit){var _width=window.getComputedStyle(_this.container,null).getPropertyValue('width')
var _height=window.getComputedStyle(_this.container,null).getPropertyValue('height')
var newWidth=parseInt(_width,10);var newHeight=parseInt(_height,10);if(isNaN(newWidth)||_width.indexOf('%')>0){newWidth=_this.container.offsetWidth-parseInt(window.getComputedStyle(_this.container,null).getPropertyValue('padding-left'),10)-parseInt(window.getComputedStyle(_this.container,null).getPropertyValue('padding-right'),10)}
if(isNaN(newHeight)||_height.indexOf('%')>0){newHeight=_this.container.offsetHeight-parseInt(window.getComputedStyle(_this.container,null).getPropertyValue('padding-top'),10)-parseInt(window.getComputedStyle(_this.container,null).getPropertyValue('padding-bottom'),10)}
if(!reInit){if(_this.width==newWidth&&_this.height==newHeight)return}
if(reInit||firstInit){_this._calcSlides();if(params.pagination){_this.updatePagination()}}
_this.width=newWidth;_this.height=newHeight;var dividerVertical=isHorizontal?1:params.slidesPerSlide,dividerHorizontal=isHorizontal?params.slidesPerSlide:1,slideWidth,slideHeight,wrapperWidth,wrapperHeight;numOfSlides=_this.slides.length
if(!params.scrollContainer){if(!_widthFromCSS){slideWidth=_this.width/dividerHorizontal;slideHeight=_this.height/dividerVertical;}
else{slideWidth=_this.slides[0].offsetWidth;slideHeight=_this.slides[0].offsetHeight;}
containerSize=isHorizontal?_this.width:_this.height;slideSize=isHorizontal?slideWidth:slideHeight;wrapperWidth=isHorizontal?numOfSlides*slideWidth:_this.width;wrapperHeight=isHorizontal?_this.height:numOfSlides*slideHeight;if(_widthFromCSS){params.slidesPerSlide=Math.round(containerSize/slideSize)}}
else{if(!isHorizontal){wrapper.style.width='';wrapper.style.height='';_this.slides[0].style.width='';_this.slides[0].style.height='';}
slideWidth=_this.slides[0].offsetWidth;slideHeight=_this.slides[0].offsetHeight;containerSize=isHorizontal?_this.width:_this.height;slideSize=isHorizontal?slideWidth:slideHeight;wrapperWidth=slideWidth;wrapperHeight=slideHeight;}
wrapperSize=isHorizontal?wrapperWidth:wrapperHeight;for(var i=0;i<_this.slides.length;i++){var el=_this.slides[i];if(!_widthFromCSS){el.style.width=slideWidth+"px"
el.style.height=slideHeight+"px"}
if(params.onSlideInitialize){params.onSlideInitialize(_this,el);}}
wrapper.style.width=wrapperWidth+"px";wrapper.style.height=wrapperHeight+"px";if(params.initialSlide>0&&params.initialSlide<numOfSlides&&!firstInit){_this.realIndex=_this.activeIndex=params.initialSlide;if(params.loop){_this.activeIndex=_this.realIndex-params.slidesPerSlide;}
_this.activeSlide=_this.activeIndex;if(isHorizontal){_this.positions.current=-params.initialSlide*slideWidth;_this.setTransform(_this.positions.current,0,0);}
else{_this.positions.current=-params.initialSlide*slideHeight;_this.setTransform(0,_this.positions.current,0);}}
if(!firstInit)_this.callPlugins('onFirstInit');else _this.callPlugins('onInit');firstInit=true;}
_this.init()
function maxPos(){var a=(wrapperSize-containerSize);if(params.loop)a=a-containerSize;if(params.scrollContainer){a=slideSize-containerSize;if(a<0)a=0;}
if(params.slidesPerSlide>_this.slides.length)a=0;return a;}
function minPos(){var a=0;if(params.loop)a=containerSize;return a;}
_this.updatePagination=function(){if(_this.slides.length<2)return;var activeSwitch=dQ(params.pagination+' .'+params.paginationActiveClass)
if(!activeSwitch)return
for(var i=0;i<activeSwitch.length;i++){activeSwitch.item(i).className=params.paginationClass}
var pagers=dQ(params.pagination+' .'+params.paginationClass).length;var minPagerIndex=params.loop?_this.realIndex-params.slidesPerSlide:_this.realIndex;var maxPagerIndex=minPagerIndex+(params.slidesPerSlide-1);for(var i=minPagerIndex;i<=maxPagerIndex;i++){var j=i;if(j>=pagers)j=j-pagers;if(j<0)j=pagers+j;if(j<numOfSlides){dQ(params.pagination+' .'+params.paginationClass).item(j).className=params.paginationClass+' '+params.paginationActiveClass}
if(i==minPagerIndex)dQ(params.pagination+' .'+params.paginationClass).item(j).className+=' swiper-activeslide-switch'}}
_this.createPagination=function(){if(params.pagination&&params.createPagination){var paginationHTML="";var numOfSlides=_this.slides.length;var numOfButtons=params.loop?numOfSlides-params.slidesPerSlide*2:numOfSlides;for(var i=0;i<numOfButtons;i++){paginationHTML+='<span class="'+params.paginationClass+'"></span>'}
dQ(params.pagination)[0].innerHTML=paginationHTML
_this.updatePagination()
_this.callPlugins('onCreatePagination');}}
_this.createPagination();_this.resizeEvent=params.resizeEvent==='auto'?('onorientationchange'in window)?'orientationchange':'resize':params.resizeEvent
_this.resizeFix=function(){_this.callPlugins('beforeResizeFix');_this.init()
if(!params.scrollContainer)
_this.swipeTo(_this.activeIndex,0,false)
else{var pos=isHorizontal?_this.getTranslate('x'):_this.getTranslate('y')
if(pos<-maxPos()){var x=isHorizontal?-maxPos():0;var y=isHorizontal?0:-maxPos();_this.setTransition(0)
_this.setTransform(x,y,0)}}
_this.callPlugins('afterResizeFix');}
if(!params.disableAutoResize){window.addEventListener(_this.resizeEvent,_this.resizeFix,false)}
var autoPlay
_this.startAutoPlay=function(){if(params.autoPlay&&!params.loop){autoPlay=setInterval(function(){var newSlide=_this.realIndex+1
if(newSlide==numOfSlides)newSlide=0
_this.swipeTo(newSlide)},params.autoPlay)}
else if(params.autoPlay&&params.loop){autoPlay=setInterval(function(){_this.fixLoop();_this.swipeNext(true)},params.autoPlay)}
_this.callPlugins('onAutoPlayStart');}
_this.stopAutoPlay=function(){if(autoPlay)
clearInterval(autoPlay)
_this.callPlugins('onAutoPlayStop');}
if(params.autoPlay){_this.startAutoPlay()}
if(!_this.ie10){if(_this.support.touch){wrapper.addEventListener('touchstart',onTouchStart,false);wrapper.addEventListener('touchmove',onTouchMove,false);wrapper.addEventListener('touchend',onTouchEnd,false);}
if(params.simulateTouch){wrapper.addEventListener('mousedown',onTouchStart,false);document.addEventListener('mousemove',onTouchMove,false);document.addEventListener('mouseup',onTouchEnd,false);}}
else{wrapper.addEventListener(_this.touchEvents.touchStart,onTouchStart,false);document.addEventListener(_this.touchEvents.touchMove,onTouchMove,false);document.addEventListener(_this.touchEvents.touchEnd,onTouchEnd,false);}
_this.destroy=function(removeResizeFix){removeResizeFix=removeResizeFix===false?removeResizeFix:removeResizeFix||true
if(removeResizeFix){window.removeEventListener(_this.resizeEvent,_this.resizeFix,false);}
if(_this.ie10){wrapper.removeEventListener(_this.touchEvents.touchStart,onTouchStart,false);document.removeEventListener(_this.touchEvents.touchMove,onTouchMove,false);document.removeEventListener(_this.touchEvents.touchEnd,onTouchEnd,false);}
else{if(_this.support.touch){wrapper.removeEventListener('touchstart',onTouchStart,false);wrapper.removeEventListener('touchmove',onTouchMove,false);wrapper.removeEventListener('touchend',onTouchEnd,false);}
wrapper.removeEventListener('mousedown',onTouchStart,false);document.removeEventListener('mousemove',onTouchMove,false);document.removeEventListener('mouseup',onTouchEnd,false);}
if(params.keyboardControl){document.removeEventListener('keydown',handleKeyboardKeys,false);}
if(params.mousewheelControl&&_this._wheelEvent){_this.container.removeEventListener(_this._wheelEvent,handleMousewheel,false);}
if(params.autoPlay){_this.stopAutoPlay()}
_this.callPlugins('onDestroy');}
_this.allowLinks=true;if(params.preventLinks){var links=_this.container.querySelectorAll('a')
for(var i=0;i<links.length;i++){links[i].addEventListener('click',preventClick,false)}}
function preventClick(e){if(!_this.allowLinks)e.preventDefault();}
if(params.keyboardControl){function handleKeyboardKeys(e){var kc=e.keyCode||e.charCode;if(isHorizontal){if(kc==37||kc==39)e.preventDefault();if(kc==39)_this.swipeNext()
if(kc==37)_this.swipePrev()}
else{if(kc==38||kc==40)e.preventDefault();if(kc==40)_this.swipeNext()
if(kc==38)_this.swipePrev()}}
document.addEventListener('keydown',handleKeyboardKeys,false);}
_this._wheelEvent=false;if(params.mousewheelControl){if(document.onmousewheel!==undefined){_this._wheelEvent="mousewheel"}
try{WheelEvent("wheel");_this._wheelEvent="wheel";}catch(e){}
if(!_this._wheelEvent){_this._wheelEvent="DOMMouseScroll";}
function handleMousewheel(e){if(e.preventDefault)e.preventDefault();var we=_this._wheelEvent;var delta;if(e.detail)delta=-e.detail;else if(we=='mousewheel')delta=e.wheelDelta;else if(we=='DOMMouseScroll')delta=-e.detail;else if(we=='wheel'){delta=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX:-e.deltaY;}
if(!params.freeMode){if(delta<0)_this.swipeNext()
else _this.swipePrev()}
else{var currentTransform=isHorizontal?_this.getTranslate('x'):_this.getTranslate('y')
var x,y;if(isHorizontal){x=_this.getTranslate('x')+delta;y=_this.getTranslate('y');if(x>0)x=0;if(x<-maxPos())x=-maxPos();}
else{x=_this.getTranslate('x');y=_this.getTranslate('y')+delta;if(y>0)y=0;if(y<-maxPos())y=-maxPos();}
_this.setTransition(0)
_this.setTransform(x,y,0)}
e.preventDefault();return false;}
if(_this._wheelEvent){_this.container.addEventListener(_this._wheelEvent,handleMousewheel,false);}}
if(params.grabCursor){_this.container.style.cursor='move';_this.container.style.cursor='grab';_this.container.style.cursor='-moz-grab';_this.container.style.cursor='-webkit-grab';}
var isTouchEvent=false;var allowThresholdMove;function onTouchStart(event){if(_this.isTouched||params.onlyExternal){return false}
if(params.preventClassNoSwiping&&event.target.className.indexOf('NoSwiping')>-1)return false;_this.isTouched=true;isTouchEvent=event.type=='touchstart';if(!isTouchEvent||event.targetTouches.length==1){_this.callPlugins('onTouchStartBegin');if(params.loop)_this.fixLoop();if(!isTouchEvent){if(event.preventDefault)event.preventDefault();else event.returnValue=false;}
var pageX=isTouchEvent?event.targetTouches[0].pageX:(event.pageX||event.clientX)
var pageY=isTouchEvent?event.targetTouches[0].pageY:(event.pageY||event.clientY)
_this.touches.startX=_this.touches.currentX=pageX;_this.touches.startY=_this.touches.currentY=pageY;_this.touches.start=_this.touches.current=isHorizontal?_this.touches.startX:_this.touches.startY;_this.setTransition(0)
_this.positions.start=_this.positions.current=isHorizontal?_this.getTranslate('x'):_this.getTranslate('y');if(isHorizontal){_this.setTransform(_this.positions.start,0,0)}
else{_this.setTransform(0,_this.positions.start,0)}
var tst=new Date()
_this.times.start=tst.getTime()
isScrolling=undefined;if(params.onSlideClick||params.onSlideTouch){;(function(){var el=_this.container;var box=el.getBoundingClientRect();var body=document.body;var clientTop=el.clientTop||body.clientTop||0;var clientLeft=el.clientLeft||body.clientLeft||0;var scrollTop=window.pageYOffset||el.scrollTop;var scrollLeft=window.pageXOffset||el.scrollLeft;var x=pageX-box.left+clientLeft-scrollLeft;var y=pageY-box.top-clientTop-scrollTop;var touchOffset=isHorizontal?x:y;var beforeSlides=-Math.round(_this.positions.current/slideSize)
var realClickedIndex=Math.floor(touchOffset/slideSize)+beforeSlides
var clickedIndex=realClickedIndex;if(params.loop){var clickedIndex=realClickedIndex-params.slidesPerSlide;if(clickedIndex<0){clickedIndex=_this.slides.length+clickedIndex-(params.slidesPerSlide*2);}}
_this.clickedSlideIndex=clickedIndex
_this.clickedSlide=_this.getSlide(realClickedIndex);if(params.onSlideTouch){params.onSlideTouch(_this);_this.callPlugins('onSlideTouch');}})();}
if(params.moveStartThreshold>0)allowThresholdMove=false;if(params.onTouchStart)params.onTouchStart(_this)
_this.callPlugins('onTouchStartEnd');}}
function onTouchMove(event){if(!_this.isTouched||params.onlyExternal)return;if(isTouchEvent&&event.type=='mousemove')return;var pageX=isTouchEvent?event.targetTouches[0].pageX:(event.pageX||event.clientX)
var pageY=isTouchEvent?event.targetTouches[0].pageY:(event.pageY||event.clientY)
if(typeof isScrolling==='undefined'&&isHorizontal){isScrolling=!!(isScrolling||Math.abs(pageY-_this.touches.startY)>Math.abs(pageX-_this.touches.startX))}
if(typeof isScrolling==='undefined'&&!isHorizontal){isScrolling=!!(isScrolling||Math.abs(pageY-_this.touches.startY)<Math.abs(pageX-_this.touches.startX))}
if(isScrolling){_this.isTouched=false;return}
if(event.assignedToSwiper){_this.isTouched=false;return}
event.assignedToSwiper=true;if(params.preventLinks){_this.allowLinks=false;}
if(params.autoPlay){_this.stopAutoPlay()}
if(!isTouchEvent||event.touches.length==1){_this.callPlugins('onTouchMoveStart');if(event.preventDefault)event.preventDefault();else event.returnValue=false;_this.touches.current=isHorizontal?pageX:pageY;_this.positions.current=(_this.touches.current-_this.touches.start)*params.ratio+_this.positions.start
if(params.resistance){if(_this.positions.current>0&&!(params.freeMode&&!params.freeModeFluid)){if(params.loop){var resistance=1;if(_this.positions.current>0)_this.positions.current=0;}
else{var resistance=(containerSize*2-_this.positions.current)/containerSize/2;}
if(resistance<0.5)
_this.positions.current=(containerSize/2)
else
_this.positions.current=_this.positions.current*resistance
if(params.nopeek)
_this.positions.current=0;}
if((_this.positions.current)<-maxPos()&&!(params.freeMode&&!params.freeModeFluid)){if(params.loop){var resistance=1;var newPos=_this.positions.current
var stopPos=-maxPos()-containerSize}
else{var diff=(_this.touches.current-_this.touches.start)*params.ratio+(maxPos()+_this.positions.start)
var resistance=(containerSize+diff)/(containerSize);var newPos=_this.positions.current-diff*(1-resistance)/2
var stopPos=-maxPos()-containerSize/2;}
if(params.nopeek){newPos=_this.positions.current-diff;stopPos=-maxPos();}
if(newPos<stopPos||resistance<=0)
_this.positions.current=stopPos;else
_this.positions.current=newPos}}
if(!params.followFinger)return
if(!params.moveStartThreshold){if(isHorizontal)_this.setTransform(_this.positions.current,0,0)
else _this.setTransform(0,_this.positions.current,0)}
else{if(Math.abs(_this.touches.current-_this.touches.start)>params.moveStartThreshold||allowThresholdMove){allowThresholdMove=true;if(isHorizontal)_this.setTransform(_this.positions.current,0,0)
else _this.setTransform(0,_this.positions.current,0)}
else{_this.positions.current=_this.positions.start}}
if(params.freeMode){_this.updateActiveSlide(_this.positions.current)}
if(params.onSlideClick&&_this.clickedSlide){_this.clickedSlide=false}
if(params.grabCursor){_this.container.style.cursor='move';_this.container.style.cursor='grabbing';_this.container.style.cursor='-moz-grabbin';_this.container.style.cursor='-webkit-grabbing';}
_this.callPlugins('onTouchMoveEnd');if(params.onTouchMove)params.onTouchMove(_this)
return false}}
function onTouchEnd(event){if(isScrolling)_this.swipeReset();if(params.onlyExternal||!_this.isTouched)return
_this.isTouched=false
if(params.preventLinks){setTimeout(function(){_this.allowLinks=true;},10)}
if(params.grabCursor){_this.container.style.cursor='move';_this.container.style.cursor='grab';_this.container.style.cursor='-moz-grab';_this.container.style.cursor='-webkit-grab';}
if(params.onSlideClick&&_this.clickedSlide){params.onSlideClick(_this);_this.callPlugins('onSlideClick')}
if(!_this.positions.current&&_this.positions.current!==0){_this.positions.current=_this.positions.start}
if(params.followFinger){if(isHorizontal)_this.setTransform(_this.positions.current,0,0)
else _this.setTransform(0,_this.positions.current,0)}
var tet=new Date()
_this.times.end=tet.getTime();_this.touches.diff=_this.touches.current-_this.touches.start
_this.touches.abs=Math.abs(_this.touches.diff)
_this.positions.diff=_this.positions.current-_this.positions.start
_this.positions.abs=Math.abs(_this.positions.diff)
var diff=_this.positions.diff;var diffAbs=_this.positions.abs;if(diffAbs<5){_this.swipeReset()}
var maxPosition=wrapperSize-containerSize;if(params.scrollContainer){maxPosition=slideSize-containerSize}
if(_this.positions.current>0){_this.swipeReset()
if(params.onTouchEnd)params.onTouchEnd(_this)
_this.callPlugins('onTouchEnd');return}
if(_this.positions.current<-maxPosition){_this.swipeReset()
if(params.onTouchEnd)params.onTouchEnd(_this)
_this.callPlugins('onTouchEnd');return}
if(params.freeMode){if((_this.times.end-_this.times.start)<300&&params.freeModeFluid){var newPosition=_this.positions.current+_this.touches.diff*2;if(newPosition<maxPosition*(-1))newPosition=-maxPosition;if(newPosition>0)newPosition=0;if(isHorizontal)
_this.setTransform(newPosition,0,0)
else
_this.setTransform(0,newPosition,0)
_this.setTransition((_this.times.end-_this.times.start)*2)
_this.updateActiveSlide(newPosition)}
if(!params.freeModeFluid||(_this.times.end-_this.times.start)>=300)_this.updateActiveSlide(_this.positions.current)
if(params.onTouchEnd)params.onTouchEnd(_this)
_this.callPlugins('onTouchEnd');return}
direction=diff<0?"toNext":"toPrev"
if(direction=="toNext"&&(_this.times.end-_this.times.start<=300)){if(diffAbs<30||!params.shortSwipes)_this.swipeReset()
else _this.swipeNext(true);}
if(direction=="toPrev"&&(_this.times.end-_this.times.start<=300)){if(diffAbs<30||!params.shortSwipes)_this.swipeReset()
else _this.swipePrev(true);}
var groupSize=slideSize*params.slidesPerGroup
if(direction=="toNext"&&(_this.times.end-_this.times.start>300)){if(diffAbs>=groupSize*0.5){_this.swipeNext(true)}
else{_this.swipeReset()}}
if(direction=="toPrev"&&(_this.times.end-_this.times.start>300)){if(diffAbs>=groupSize*0.5){_this.swipePrev(true);}
else{_this.swipeReset()}}
if(params.onTouchEnd)params.onTouchEnd(_this)
_this.callPlugins('onTouchEnd');}
_this.swipeNext=function(internal){if(!internal&&params.loop)_this.fixLoop();if(!internal&&params.autoPlay)_this.stopAutoPlay();_this.callPlugins('onSwipeNext');var getTranslate=isHorizontal?_this.getTranslate('x'):_this.getTranslate('y');var groupSize=slideSize*params.slidesPerGroup;var newPosition=Math.floor(Math.abs(getTranslate)/Math.floor(groupSize))*groupSize+groupSize;var curPos=Math.abs(getTranslate)
if(newPosition==wrapperSize)return;if(curPos>=maxPos()&&!params.loop)return;if(newPosition>maxPos()&&!params.loop){newPosition=maxPos()};if(params.loop){if(newPosition>=(maxPos()+containerSize))newPosition=maxPos()+containerSize}
if(isHorizontal){_this.setTransform(-newPosition,0,0)}
else{_this.setTransform(0,-newPosition,0)}
_this.setTransition(params.speed)
_this.updateActiveSlide(-newPosition)
slideChangeCallbacks()
return true}
_this.swipePrev=function(internal){if(!internal&&params.loop)_this.fixLoop();if(!internal&&params.autoPlay)_this.stopAutoPlay();_this.callPlugins('onSwipePrev');var getTranslate=isHorizontal?_this.getTranslate('x'):_this.getTranslate('y')
var groupSize=slideSize*params.slidesPerGroup;var newPosition=(Math.ceil(-getTranslate/groupSize)-1)*groupSize;if(newPosition<0)newPosition=0;if(isHorizontal){_this.setTransform(-newPosition,0,0)}
else{_this.setTransform(0,-newPosition,0)}
_this.setTransition(params.speed)
_this.updateActiveSlide(-newPosition)
slideChangeCallbacks()
return true}
_this.swipeReset=function(prevention){_this.callPlugins('onSwipeReset');var getTranslate=isHorizontal?_this.getTranslate('x'):_this.getTranslate('y');var groupSize=slideSize*params.slidesPerGroup
var newPosition=getTranslate<0?Math.round(getTranslate/groupSize)*groupSize:0
var maxPosition=-maxPos()
if(params.scrollContainer){newPosition=getTranslate<0?getTranslate:0;maxPosition=containerSize-slideSize;}
if(newPosition<=maxPosition){newPosition=maxPosition}
if(params.scrollContainer&&(containerSize>slideSize)){newPosition=0;}
if(params.mode=='horizontal'){_this.setTransform(newPosition,0,0)}
else{_this.setTransform(0,newPosition,0)}
_this.setTransition(params.speed)
_this.updateActiveSlide(newPosition)
if(params.onSlideReset){params.onSlideReset(_this)}
return true}
var firstTimeLoopPositioning=true;_this.swipeTo=function(index,speed,runCallbacks){index=parseInt(index,10);_this.callPlugins('onSwipeTo',{index:index,speed:speed});if(index>(numOfSlides-1))return;if(index<0&&!params.loop)return;runCallbacks=runCallbacks===false?false:runCallbacks||true
var speed=speed===0?speed:speed||params.speed;if(params.loop)index=index+params.slidesPerSlide;if(index>numOfSlides-params.slidesPerSlide)index=numOfSlides-params.slidesPerSlide;var newPosition=-index*slideSize;if(firstTimeLoopPositioning&&params.loop&&params.initialSlide>0&&params.initialSlide<numOfSlides){newPosition=newPosition-params.initialSlide*slideSize;firstTimeLoopPositioning=false;}
if(isHorizontal){_this.setTransform(newPosition,0,0)}
else{_this.setTransform(0,newPosition,0)}
_this.setTransition(speed)
_this.updateActiveSlide(newPosition)
if(runCallbacks)
slideChangeCallbacks()
return true}
_this._queueStartCallbacks=false;_this._queueEndCallbacks=false;function slideChangeCallbacks(){_this.callPlugins('onSlideChangeStart');if(params.onSlideChangeStart&&!_this._queueStartCallbacks){_this._queueStartCallbacks=true;params.onSlideChangeStart(_this)
_this.transitionEnd(function(){_this._queueStartCallbacks=false;})}
if(params.onSlideChangeEnd&&!_this._queueEndCallbacks){_this._queueEndCallbacks=true;_this.transitionEnd(params.onSlideChangeEnd)}}
_this.updateActiveSlide=function(position){_this.previousIndex=_this.previousSlide=_this.realIndex
_this.realIndex=Math.round(-position/slideSize)
if(!params.loop)_this.activeIndex=_this.realIndex;else{_this.activeIndex=_this.realIndex-params.slidesPerSlide
if(_this.activeIndex>=numOfSlides-params.slidesPerSlide*2){_this.activeIndex=numOfSlides-params.slidesPerSlide*2-_this.activeIndex}
if(_this.activeIndex<0){_this.activeIndex=numOfSlides-params.slidesPerSlide*2+_this.activeIndex}}
if(_this.realIndex==numOfSlides)_this.realIndex=numOfSlides-1
if(_this.realIndex<0)_this.realIndex=0
_this.activeSlide=_this.activeIndex;if(params.pagination){_this.updatePagination()}}
_this.fixLoop=function(){if(_this.realIndex<params.slidesPerSlide){var newIndex=numOfSlides-params.slidesPerSlide*3+_this.realIndex;_this.swipeTo(newIndex,0,false)}
if(_this.realIndex>numOfSlides-params.slidesPerSlide*2){var newIndex=-numOfSlides+_this.realIndex+params.slidesPerSlide
_this.swipeTo(newIndex,0,false)}}
if(params.loop){_this.swipeTo(0,0,false)}}
Swiper.prototype={plugins:{},transitionEnd:function(callback,permanent){var a=this
var el=a.wrapper
var events=['webkitTransitionEnd','transitionend','oTransitionEnd','MSTransitionEnd','msTransitionEnd'];if(callback){function fireCallBack(){callback(a)
a._queueEndCallbacks=false
if(!permanent){for(var i=0;i<events.length;i++){el.removeEventListener(events[i],fireCallBack,false)}}}
for(var i=0;i<events.length;i++){el.addEventListener(events[i],fireCallBack,false)}}},isSupportTouch:function(){return("ontouchstart"in window)||window.DocumentTouch&&document instanceof DocumentTouch;},isSupport3D:function(){var div=document.createElement('div');div.id='test3d';var s3d=false;if("webkitPerspective"in div.style)s3d=true;if("MozPerspective"in div.style)s3d=true;if("OPerspective"in div.style)s3d=true;if("MsPerspective"in div.style)s3d=true;if("perspective"in div.style)s3d=true;if(s3d&&("webkitPerspective"in div.style)){var st=document.createElement('style');st.textContent='@media (-webkit-transform-3d), (transform-3d), (-moz-transform-3d), (-o-transform-3d), (-ms-transform-3d) {#test3d{height:5px}}'
document.getElementsByTagName('head')[0].appendChild(st);document.body.appendChild(div);s3d=div.offsetHeight===5;st.parentNode.removeChild(st);div.parentNode.removeChild(div);}
return s3d;},getTranslate:function(axis){var el=this.wrapper
var matrix;var curTransform;if(window.WebKitCSSMatrix){var transformMatrix=new WebKitCSSMatrix(window.getComputedStyle(el,null).webkitTransform)
matrix=transformMatrix.toString().split(',');}
else{var transformMatrix=window.getComputedStyle(el,null).MozTransform||window.getComputedStyle(el,null).OTransform||window.getComputedStyle(el,null).MsTransform||window.getComputedStyle(el,null).msTransform||window.getComputedStyle(el,null).transform||window.getComputedStyle(el,null).getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,");matrix=transformMatrix.toString().split(',');}
if(this.params.useCSS3Transforms){if(axis=='x'){if(matrix.length==16)
curTransform=parseFloat(matrix[12])
else if(window.WebKitCSSMatrix)
curTransform=transformMatrix.m41
else
curTransform=parseFloat(matrix[4])}
if(axis=='y'){if(matrix.length==16)
curTransform=parseFloat(matrix[13])
else if(window.WebKitCSSMatrix)
curTransform=transformMatrix.m42
else
curTransform=parseFloat(matrix[5])}}
else{if(axis=='x')curTransform=parseFloat(el.style.left,10)||0
if(axis=='y')curTransform=parseFloat(el.style.top,10)||0}
return curTransform;},setTransform:function(x,y,z){var es=this.wrapper.style
x=x||0;y=y||0;z=z||0;if(this.params.useCSS3Transforms){if(this.support.threeD){es.webkitTransform=es.MsTransform=es.msTransform=es.MozTransform=es.OTransform=es.transform='translate3d('+x+'px, '+y+'px, '+z+'px)'}
else{es.webkitTransform=es.MsTransform=es.msTransform=es.MozTransform=es.OTransform=es.transform='translate('+x+'px, '+y+'px)'
if(this.ie8){es.left=x+'px'
es.top=y+'px'}}}
else{es.left=x+'px';es.top=y+'px';}
this.callPlugins('onSetTransform',{x:x,y:y,z:z})},setTransition:function(duration){var es=this.wrapper.style
es.webkitTransitionDuration=es.MsTransitionDuration=es.msTransitionDuration=es.MozTransitionDuration=es.OTransitionDuration=es.transitionDuration=duration/1000+'s';this.callPlugins('onSetTransition',{duration:duration})},ie8:(function(){var rv=-1;if(navigator.appName=='Microsoft Internet Explorer'){var ua=navigator.userAgent;var re=new RegExp("MSIE ([0-9]{1,}[\.0-9]{0,})");if(re.exec(ua)!=null)
rv=parseFloat(RegExp.$1);}
return rv!=-1&&rv<9;})(),ie10:window.navigator.msPointerEnabled}
if(window.jQuery||window.Zepto){(function($){$.fn.swiper=function(params){var s=new Swiper($(this)[0],params)
$(this).data('swiper',s);return s}})(window.jQuery||window.Zepto)}